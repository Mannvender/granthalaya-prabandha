{"version":3,"sources":["theme.ts","components/Box.tsx","components/Button.tsx","components/Webcam.tsx","pages/home/index.tsx","components/Heading.tsx","components/Paragraph.tsx","components/LoadingContainer.tsx","utils/base64-to-uint8array.ts","hooks/useSearchFaces.tsx","pages/punch-in/PunchInOut.tsx","pages/punch-in/index.tsx","pages/punch-out/index.tsx","hooks/useIndexFace.tsx","hooks/useImagePreviewUrl.tsx","components/StudentForm.tsx","pages/register/index.tsx","hooks/useDeleteFaces.tsx","pages/list/index.tsx","pages/edit/index.tsx","utils/download-file.ts","pages/register-multiple/index.tsx","routes/index.tsx","utils/student.ts","utils/auth-singleton.ts","components/Navbar.tsx","layouts/Stack.tsx","routes/Public.tsx","routes/PublicOnly.tsx","routes/Private.tsx","components/ErrorBoundry.tsx","App.tsx","dbConfig.ts","serviceWorker.ts","NormalizeStyles.ts","index.tsx"],"names":["theme","color","light","primary","dark","secondary","error","success","size","medium","hair","xsmall","small","large","xlarge","xxlarge","edgeSize","none","StyledDiv","styled","div","$direction","$textAlign","$height","bgColor","$justifyContent","css","$alignItems","$padding","horizontal","vertical","top","left","right","bottom","$margin","Box","children","rest","StyledButton","button","backgroundColor","hasShadow","shadowColor","Button","type","props","Webcam","onCapture","webcamRef","useRef","handleCaptureClick","useCallback","imageSrc","current","getScreenshot","audio","ref","height","width","screenshotFormat","minScreenshotHeight","minScreenshotWidth","videoConstraints","facingMode","onUserMediaError","e","console","onClick","Home","useState","setImage","base64Image","log","StyledHeading","h1","Heading","StyledP","p","$color","$fontSize","$lineHeight","StyledLoaderContainer","section","convertDataURIToBinary","dataURI","base64Index","indexOf","length","base64","substring","raw","window","atob","rawLength","array","Uint8Array","ArrayBuffer","i","charCodeAt","useSearchFaces","isSuccess","isFetching","faceMatches","status","setStatus","useEffect","prevState","payload","CollectionId","process","Image","Bytes","MaxFaces","rekog","searchFacesByImage","then","res","FaceMatches","catch","err","toast","message","Code","resetStatus","StyledImg","img","attrs","alt","StyledName","SmallIconCss","StyledCheckIcon","RiCheckDoubleFill","StyledCrossIcon","RiCloseFill","StyledHeartIcon","RiHeart2Fill","PunchIn","isPunchIn","toastId","studentInfo","setStudentInfo","_resetStatus","useLoading","loading","containerProps","indicatorEl","getByID","useIndexedDB","storeName","add","timer","setTimeout","undefined","clearTimeout","addPunch","studentId","id","dateTime","Date","now","faceMatch","Similarity","indexedDbId","Face","ExternalImageId","studentFromDB","image","feePaid","info","autoClose","pauseOnHover","pauseOnFocusLoss","closeOnClick","closeButton","name","isOnTime","useMemo","timeSlotIn","timeSlotOut","punchInHoursMinutes","split","punchOutHoursMinutes","punchIn","setHours","parseInt","setMinutes","punchOut","getTime","open","Boolean","onClose","dismiss","center","aria-labelledby","styles","root","modal","borderRadius","src","PunchOut","useIndexFace","userId","faceId","indexFaces","FaceRecords","FaceId","errorMessage","useImagePreviewUrl","blob","imagePreviewUrl","setPreview","reader","FileReader","onloadend","previewUrl","result","readAsDataURL","StyledForm","form","StyledPreview","StyledError","role","LABELS","admissionNo","fatherName","mobileNo","gender","identificationDoc","identificationDocNo","address","territory","router","lockerNo","reservedSeat","dateOfJoining","validUpto","StudentForm","onSubmit","defaultValues","showWebcam","setWebcamVisible","useForm","mode","register","handleSubmit","setValue","watch","errors","formState","imageFile","setImageFile","imageValue","data","htmlFor","style","accept","onChange","target","files","aria-relevant","aria-required","required","minLength","fontWeight","value","Register","history","useHistory","update","setUserId","student","setStudent","push","a","dbRes","toString","scrollTo","behavior","alert","useDeleteFaces","faceIds","FaceIds","deleteFaces","StyledImage","StyledTable","table","StyledEditIcon","RiEditBoxFill","StyledDeleteIcon","RiDeleteBin7Fill","IconCss","StyledAddIcon","RiAddBoxFill","StyledExcelIcon","RiFileExcel2Fill","ImageCell","base64URL","List","getAll","deleteRecord","students","setStudents","setAdmissionNo","deleteConfirm","setDeleteConfirm","selectedStudent","find","fetchStudents","studentsFromDB","databaseId","useEffectOnce","ActionsCell","data-href","handleEdit","handleDelete","columns","React","Header","accessor","Cell","useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","onCloseModal","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","getRowProps","cells","cell","getCellProps","showCloseIcon","Edit","useParams","getByIndex","updatedStudent","setUpdatedStudent","isFaceDataCleared","indexFaceError","downloadFile","file","fileName","Blob","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","fields","Object","keys","shift","csv","jsonToCSV","path","exact","component","Homepage","public","private","publicOnly","layout","onFileLoad","studentsData","d","filter","promises","list","rowId","rowNo","forEach","key","index","Error","parseStudents","Promise","allSettled","results","reason","onError","addRemoveButton","auth","getAuthToken","token","StyledHeader","header","StyledLink","Link","Navbar","to","StackLayout","minHeight","PublicRoute","Component","Stack","PublicOnlyRoute","PrivateRoute","pathname","ErrorBoundary","state","hasError","errorInfo","this","REACT_APP_AWS_REGION","REACT_APP_AWS_IDENTITY_POOL_ID","initDB","version","objectStoresMeta","store","storeConfig","keyPath","autoIncrement","storeSchema","keypath","options","unique","cognitoIdentityClient","CognitoIdentityClient","region","Rekognition","credentials","fromCognitoIdentityPool","client","identityPoolId","StyledPuff","Puff","App","ErrorBoundry","indicator","position","routes","route","Private","PublicOnly","Public","location","hostname","match","Normalize","createGlobalStyle","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.79e44c57.chunk.js","sourcesContent":["const theme = {\n  color: {\n    light: { primary: '#fff' },\n    dark: {\n      primary: '#1a1a2e',\n      secondary: '#16213e',\n      'accent-1': '#0f3460',\n      'accent-2': '#e94560',\n      'accent-3': '#8c2a3a',\n      error: '#cc0000',\n      success: '#28a745',\n    },\n  },\n  size: {\n    // by default size choosen by user is medium\n    medium: {\n      hair: '1px',\n      xsmall: '8px',\n      small: '16px',\n      medium: '32px',\n      large: '64px',\n      xlarge: '128px',\n      xxlarge: '280px',\n    },\n  },\n  edgeSize: {\n    medium: {\n      none: '0',\n      xsmall: '4px',\n      small: '8px',\n      medium: '16px',\n      large: '24px',\n    },\n  },\n}\n\nexport default theme\n","import React, { HTMLAttributes, ReactNode } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { MarginPaddingKeys } from 'types/margin-padding'\n\ninterface StyledProps extends HTMLAttributes<HTMLDivElement> {\n  $height?: string\n  bgColor?: string\n  $justifyContent?: string\n  $alignItems?: string\n  $textAlign?: string\n  $padding?: string | { [key in MarginPaddingKeys]?: string }\n  $margin?: string | { [key in MarginPaddingKeys]?: string }\n  $direction?: 'row' | 'column'\n}\ninterface Props extends StyledProps {\n  children?: ReactNode\n}\nconst StyledDiv = styled.div<{\n  $height: string\n  bgColor: string\n  $justifyContent: string\n  $alignItems: string\n  $padding?: string | { [key in MarginPaddingKeys]?: string }\n  $margin?: string | { [key in MarginPaddingKeys]?: string }\n  $direction?: 'row' | 'column'\n  $textAlign: string\n}>`\n  display: flex;\n  flex-direction: ${({ $direction }) => $direction};\n  text-align: ${({ $textAlign }) => $textAlign};\n  height: ${({ theme, $height }) => theme.size[$height] || $height};\n  background-color: ${({ theme, bgColor }) => theme.color[bgColor] || bgColor};\n  ${({ $justifyContent }) =>\n    $justifyContent &&\n    css`\n      justify-content: ${$justifyContent};\n    `}\n  ${({ $alignItems }) =>\n    $alignItems &&\n    css`\n      align-items: ${$alignItems};\n    `}\n  ${({ $padding, theme }) => {\n    if (!$padding) return\n    if (typeof $padding === 'string')\n      return css`\n        padding: ${theme.edgeSize[$padding] || $padding};\n      `\n    else if ($padding.horizontal || $padding.vertical) {\n      const { horizontal, vertical } = $padding\n      return css`\n        padding: ${(theme.edgeSize[vertical || 'none'] || vertical) +\n        ' ' +\n        (theme.edgeSize[horizontal || 'none'] || horizontal)};\n      `\n    } else if (\n      $padding.top ||\n      $padding.left ||\n      $padding.right ||\n      $padding.bottom\n    ) {\n      const { top, right, bottom, left } = $padding\n      return css`\n        padding: ${(theme.edgeSize[top || 'none'] || top) +\n        ' ' +\n        (theme.edgeSize[right || 'none'] || right) +\n        ' ' +\n        (theme.edgeSize[bottom || 'none'] || bottom) +\n        ' ' +\n        (theme.edgeSize[left || 'none'] || left)};\n      `\n    }\n  }}\n  ${({ $margin, theme }) => {\n    if (!$margin) return\n    if (typeof $margin === 'string')\n      return css`\n        margin: ${theme.edgeSize[$margin] || $margin};\n      `\n    else if ($margin.horizontal || $margin.vertical) {\n      const { horizontal, vertical } = $margin\n      return css`\n        margin: ${(theme.edgeSize[vertical || 'none'] || vertical) +\n        ' ' +\n        (theme.edgeSize[horizontal || 'none'] || horizontal)};\n      `\n    } else if ($margin.top || $margin.left || $margin.right || $margin.bottom) {\n      const { top, right, bottom, left } = $margin\n      return css`\n        margin: ${(theme.edgeSize[top || 'none'] || top) +\n        ' ' +\n        (theme.edgeSize[right || 'none'] || right) +\n        ' ' +\n        (theme.edgeSize[bottom || 'none'] || bottom) +\n        ' ' +\n        (theme.edgeSize[left || 'none'] || left)};\n      `\n    }\n  }}\n`\n\nconst Box = ({\n  $alignItems = '',\n  bgColor = '',\n  children,\n  $justifyContent = '',\n  $textAlign = 'left',\n  $height = '',\n  $direction = 'column',\n  ...rest\n}: Props) => {\n  return (\n    <StyledDiv\n      $height={$height}\n      bgColor={bgColor}\n      $alignItems={$alignItems}\n      $justifyContent={$justifyContent}\n      $direction={$direction}\n      $textAlign={$textAlign}\n      {...rest}\n    >\n      {children}\n    </StyledDiv>\n  )\n}\n\nexport default Box\n","import React, { HTMLAttributes, ReactNode, ComponentType } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { MarginPaddingKeys } from 'types/margin-padding'\n\n// @fixme: prop \"type\" should be allowed by HTMLButtonElement\ninterface StyledProps extends HTMLAttributes<HTMLButtonElement> {\n  /**\n   * Should show shadow\n   */\n  hasShadow?: boolean\n  /**\n   * What text color to use? This will override the default color\n   */\n  color?: string\n  /**\n   * What background color to use? This will override the default background color\n   */\n  backgroundColor?: string\n  /**\n   * What shadow color to use? This will override the default shadow color\n   */\n  shadowColor?: string\n  /**\n   * How large should the button be?\n   */\n  size?: 'medium' | 'largish' | 'large'\n  /**\n   * HTML attribute \"type\"\n   */\n  type?: 'submit' | 'button'\n  /**\n   * What margin to use ? This will add margin\n   */\n  $margin?: string | { [key in MarginPaddingKeys]?: string }\n  /**\n   * What html element to use as container\n   */\n  as?: string | ComponentType<any>\n}\nexport interface ButtonProps extends StyledProps {\n  /**\n   * Button contents\n   */\n  children: ReactNode\n}\n\nconst StyledButton = styled.button<StyledProps>`\n  font-family: inherit;\n  outline: none;\n  padding: 3px 20px 3px 20px;\n  border: 0;\n  border-radius: 14px;\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 24px;\n  transition: transform translate 150ms;\n  color: ${({ theme, color }) => theme.color[color!] || color};\n  background-color: ${({ theme, backgroundColor }) =>\n    theme.color[backgroundColor!] || backgroundColor};\n  cursor: pointer;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  &:active {\n    box-shadow: 0 0;\n    transform: translateY(5px);\n  }\n\n  ${({ size }) => {\n    return (\n      size === 'large' &&\n      css`\n        padding: 6px 32px 6px 32px;\n        border-radius: 22.5px;\n        line-height: 28px;\n        font-size: 20px;\n      `\n    )\n  }}\n\n  ${({ size }) => {\n    return (\n      size === 'largish' &&\n      css`\n        font-size: 16px;\n        line-height: 24px;\n        border-radius: 18px;\n        padding: 4px 24px 4px 24px;\n      `\n    )\n  }}\n\n  ${({ hasShadow, shadowColor, theme }) => {\n    return (\n      hasShadow &&\n      css`\n        box-shadow: 0 6px ${theme.color[shadowColor!] || shadowColor};\n      `\n    )\n  }}\n  ${({ $margin, theme }) => {\n    if (!$margin) return\n    if (typeof $margin === 'string')\n      return css`\n        margin: ${theme.edgeSize[$margin] || $margin};\n      `\n    else if ($margin.horizontal || $margin.vertical) {\n      const { horizontal, vertical } = $margin\n      return css`\n        margin: ${(theme.edgeSize[vertical || 'none'] || vertical) +\n        ' ' +\n        (theme.edgeSize[horizontal || 'none'] || horizontal)};\n      `\n    } else if ($margin.top || $margin.left || $margin.right || $margin.bottom) {\n      const { top, right, bottom, left } = $margin\n      return css`\n        margin: ${(theme.edgeSize[top || 'none'] || top) +\n        ' ' +\n        (theme.edgeSize[right || 'none'] || right) +\n        ' ' +\n        (theme.edgeSize[bottom || 'none'] || bottom) +\n        ' ' +\n        (theme.edgeSize[left || 'none'] || left)};\n      `\n    }\n  }}\n`\n\n/**\n * Primary UI component for user interaction\n */\nconst Button: React.FC<ButtonProps> = ({\n  size = 'medium',\n  backgroundColor = 'accent-2',\n  shadowColor = 'accent-3',\n  color = '#fff',\n  hasShadow = true,\n  children,\n  type = 'button',\n  ...props\n}: ButtonProps) => {\n  return (\n    <StyledButton\n      color={color}\n      backgroundColor={backgroundColor}\n      shadowColor={shadowColor}\n      type={type}\n      size={size}\n      hasShadow={hasShadow}\n      {...props}\n    >\n      {children}\n    </StyledButton>\n  )\n}\n\nexport default Button\n","import React, { useRef, useCallback } from 'react'\nimport RCWebcam from 'react-webcam'\n\nimport Button from 'components/Button'\nimport Box from 'components/Box'\n\ninterface Props {\n  onCapture?: (file: string) => void\n}\nconst Webcam = ({ onCapture }: Props) => {\n  const webcamRef = useRef<RCWebcam>(null!)\n\n  const handleCaptureClick = useCallback(() => {\n    const imageSrc = webcamRef.current?.getScreenshot()\n    if (onCapture) onCapture(imageSrc || '')\n  }, [webcamRef, onCapture])\n\n  const handleMediaStreamError = (e: string | DOMException) => console.error(e)\n\n  return (\n    <Box $alignItems=\"center\">\n      <RCWebcam\n        audio={false}\n        ref={webcamRef}\n        height={240}\n        width={360}\n        screenshotFormat=\"image/jpeg\"\n        minScreenshotHeight={720}\n        minScreenshotWidth={1280}\n        videoConstraints={{ facingMode: 'user' }}\n        onUserMediaError={handleMediaStreamError}\n      />\n      <Button\n        onClick={handleCaptureClick}\n        backgroundColor=\"#fff\"\n        color=\"accent-3\"\n        $margin={{ top: 'medium' }}\n      >\n        Capture\n      </Button>\n    </Box>\n  )\n}\n\nexport default Webcam\n","import React, { useState } from 'react'\n\nimport Box from 'components/Box'\nimport Webcam from 'components/Webcam'\n\nconst Home = () => {\n  const [, setImage] = useState('')\n  const handleCapture = (base64Image: string) => {\n    // eslint-disable-next-line no-console\n    console.log(base64Image)\n    setImage(base64Image)\n  }\n\n  return (\n    <Box $alignItems=\"center\" $padding=\"medium\">\n      <Webcam onCapture={handleCapture} />\n    </Box>\n  )\n}\n\nexport default Home\n","import React, { HTMLAttributes, ReactNode } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledHeading = styled.h1<{ color?: string }>`\r\n  color: ${({ theme, color }) => color || theme.color['accent-2']};\r\n  margin-top: 0;\r\n  margin-bottom: ${({ theme }) => theme.edgeSize.medium};\r\n`\r\ninterface HeadingProps extends HTMLAttributes<HTMLHeadingElement> {\r\n  color?: string\r\n  children: ReactNode\r\n  // @fixme: allow as prop to styled components\r\n  // as: string\r\n}\r\nconst Heading = ({ children, ...props }: HeadingProps) => {\r\n  return <StyledHeading {...props}>{children}</StyledHeading>\r\n}\r\n\r\nexport default Heading\r\n","import styled, { css } from 'styled-components'\nimport { MarginPaddingKeys } from 'types/margin-padding'\n\nconst StyledP = styled.p<{\n  $color?: string\n  $fontSize?: string\n  $margin?: string | { [key in MarginPaddingKeys]?: string }\n  $lineHeight?: string\n}>`\n  margin-top: 0;\n  color: ${({ $color, theme }) => theme.color[$color || '#fff']};\n  ${({ $fontSize }) =>\n    $fontSize &&\n    css`\n      font-size: ${$fontSize};\n    `}\n  ${({ $lineHeight }) =>\n    $lineHeight &&\n    css`\n      line-height: ${$lineHeight};\n    `}\n  ${({ $margin, theme }) => {\n    if (!$margin) return\n    if (typeof $margin === 'string')\n      return css`\n        margin: ${theme.edgeSize[$margin] || $margin};\n      `\n    else if ($margin.horizontal || $margin.vertical) {\n      const { horizontal, vertical } = $margin\n      return css`\n        margin: ${(theme.edgeSize[vertical || 'none'] || vertical) +\n        ' ' +\n        (theme.edgeSize[horizontal || 'none'] || horizontal)};\n      `\n    } else if ($margin.top || $margin.left || $margin.right || $margin.bottom) {\n      const { top, right, bottom, left } = $margin\n      return css`\n        margin: ${(theme.edgeSize[top || 'none'] || top) +\n        ' ' +\n        (theme.edgeSize[right || 'none'] || right) +\n        ' ' +\n        (theme.edgeSize[bottom || 'none'] || bottom) +\n        ' ' +\n        (theme.edgeSize[left || 'none'] || left)};\n      `\n    }\n  }}\n`\n\nexport default StyledP\n","import styled from 'styled-components'\n\nconst StyledLoaderContainer = styled.section`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1;\n`\nexport default StyledLoaderContainer\n","const BASE64_MARKER = ';base64,'\r\n\r\nfunction convertDataURIToBinary(dataURI: string) {\r\n  const base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length\r\n  const base64 = dataURI.substring(base64Index)\r\n  const raw = window.atob(base64)\r\n  const rawLength = raw.length\r\n  const array = new Uint8Array(new ArrayBuffer(rawLength))\r\n\r\n  for (let i = 0; i < rawLength; i++) {\r\n    array[i] = raw.charCodeAt(i)\r\n  }\r\n  return array\r\n}\r\n\r\nexport default convertDataURIToBinary\r\n","import { useState, useEffect } from 'react'\nimport { rekog } from 'App'\nimport { toast } from 'react-toastify'\n\nimport convertDataURIToBinary from 'utils/base64-to-uint8array'\nimport { FaceMatch } from '@aws-sdk/client-rekognition'\nconst { REACT_APP_AWS_REKOGNITION_COLLECTION_ID: CollectionId } = process.env\n\ninterface Props {\n  base64Image: string\n}\nconst useSearchFaces = ({ base64Image }: Props) => {\n  const [status, setStatus] = useState<{\n    faceMatches: FaceMatch[]\n    isSuccess: boolean\n    isFetching: boolean\n    error: string\n  }>({ isSuccess: false, isFetching: false, error: '', faceMatches: [] })\n  useEffect(() => {\n    if (base64Image && !status.isFetching && !status.isSuccess) {\n      setStatus((prevState) => ({ ...prevState, isFetching: true }))\n      const payload = {\n        CollectionId,\n        Image: {\n          Bytes: convertDataURIToBinary(base64Image),\n        },\n        MaxFaces: 1,\n      }\n      rekog\n        .searchFacesByImage(payload)\n        .then((res) => {\n          setStatus((prevState) => ({\n            ...prevState,\n            faceMatches: res?.FaceMatches || [],\n            isSuccess: true,\n          }))\n        })\n        .catch((err) => {\n          toast.error(\n            err?.message || 'No face data found, please try again or register!',\n          )\n          console.error(err)\n          // If collection does not exists then create new\n          if (err?.Code)\n            setStatus((prevState) => ({ ...prevState, error: err.Code }))\n        })\n    }\n    // eslint-disable-next-line\n  }, [base64Image])\n  const resetStatus = () =>\n    setStatus({\n      faceMatches: [],\n      isFetching: false,\n      isSuccess: false,\n      error: '',\n    })\n  return { ...status, resetStatus }\n}\n\nexport default useSearchFaces\n","import React, { useState, useEffect, useMemo, useRef, useCallback } from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { useLoading } from '@agney/react-loading'\r\nimport { useIndexedDB } from 'react-indexed-db'\r\nimport { toast } from 'react-toastify'\r\nimport { RiCheckDoubleFill, RiCloseFill, RiHeart2Fill } from 'react-icons/ri'\r\nimport { Modal } from 'react-responsive-modal'\r\nimport 'react-responsive-modal/styles.css'\r\n\r\nimport Box from 'components/Box'\r\nimport Webcam from 'components/Webcam'\r\nimport Heading from 'components/Heading'\r\nimport P from 'components/Paragraph'\r\nimport LoaderContainer from 'components/LoadingContainer'\r\nimport useSearchFaces from 'hooks/useSearchFaces'\r\nimport { Student } from 'types/student'\r\n\r\nconst StyledImg = styled.img.attrs(() => ({\r\n  alt: 'student',\r\n}))`\r\n  height: 72px;\r\n  width: 72px;\r\n  border-radius: 50%;\r\n`\r\nconst StyledName = styled.div`\r\n  font-size: 28px;\r\n`\r\nconst SmallIconCss = css`\r\n  height: 24px;\r\n  width: 24px;\r\n  cursor: pointer;\r\n  margin-left: 4px;\r\n`\r\nconst StyledCheckIcon = styled(RiCheckDoubleFill)`\r\n  ${SmallIconCss}\r\n  color: ${({ theme }) => theme.color.success};\r\n`\r\nconst StyledCrossIcon = styled(RiCloseFill)`\r\n  ${SmallIconCss}\r\n  color: ${({ theme }) => theme.color.error};\r\n`\r\nconst StyledHeartIcon = styled(RiHeart2Fill)`\r\n  ${SmallIconCss}\r\n  color: ${({ theme }) => theme.color['accent-2']};\r\n`\r\n\r\ninterface Props {\r\n  isPunchIn: boolean\r\n}\r\nconst PunchIn = ({ isPunchIn }: Props) => {\r\n  const toastId = useRef<string | number>()\r\n  const [base64Image, setImage] = useState('')\r\n  const [studentInfo, setStudentInfo] = useState<Student>()\r\n  const {\r\n    faceMatches,\r\n    isFetching,\r\n    isSuccess,\r\n    error,\r\n    resetStatus,\r\n  } = useSearchFaces({\r\n    base64Image,\r\n  })\r\n  const _resetStatus = useCallback(resetStatus, [])\r\n  const { containerProps, indicatorEl } = useLoading({\r\n    loading: isFetching && !isSuccess && !error,\r\n  })\r\n  const { getByID } = useIndexedDB('students')\r\n\r\n  const storeName = `punch-${isPunchIn ? 'in' : 'out'}s`\r\n  const { add } = useIndexedDB(storeName)\r\n  // eslint-disable-next-line no-console\r\n  console.log(\r\n    faceMatches,\r\n    isFetching,\r\n    isSuccess,\r\n    error,\r\n    '------isFetching, isSuccess, error-----',\r\n  )\r\n\r\n  useEffect(() => {\r\n    // auto closing modal\r\n    let timer: NodeJS.Timeout\r\n    if (studentInfo) {\r\n      timer = setTimeout(() => {\r\n        _resetStatus()\r\n        setStudentInfo(undefined)\r\n      }, 10000)\r\n    }\r\n    return () => {\r\n      if (timer) window.clearTimeout(timer)\r\n    }\r\n  }, [studentInfo, _resetStatus])\r\n\r\n  const addPunch = useCallback(add, [])\r\n  useEffect(() => {\r\n    if (studentInfo) {\r\n      addPunch({ studentId: studentInfo.id, dateTime: Date.now() }).catch(\r\n        (err) => {\r\n          toast.error(err?.message || 'Data could not be saved in database!')\r\n          console.error(err)\r\n        },\r\n      )\r\n    }\r\n  }, [studentInfo, addPunch])\r\n\r\n  useEffect(() => {\r\n    const faceMatch = faceMatches[0]\r\n    if (faceMatch) {\r\n      if (faceMatch.Similarity && faceMatch.Similarity > 80) {\r\n        const indexedDbId = faceMatch.Face?.ExternalImageId\r\n        if (indexedDbId) {\r\n          getByID(indexedDbId)\r\n            .then((studentFromDB) => {\r\n              delete studentFromDB.image\r\n              studentFromDB.feePaid = studentFromDB?.feePaid === 'true'\r\n              setStudentInfo(studentFromDB)\r\n              toastId.current = toast.info('Modal will autoclose...', {\r\n                autoClose: 10000,\r\n                pauseOnHover: false,\r\n                pauseOnFocusLoss: false,\r\n                closeOnClick: false,\r\n                closeButton: false,\r\n              })\r\n            })\r\n            .catch((err) => {\r\n              toast.error(\r\n                err?.name || 'No student record found for given face data!',\r\n              )\r\n              // @todo: delete face data from aws\r\n              // toast.info(\r\n              //   'Deleting face data since do student data was found associated',\r\n              // )\r\n              console.error(err)\r\n            })\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [faceMatches])\r\n\r\n  const isOnTime = useMemo(() => {\r\n    // @fixme: time string can be diff for diff computer/browser\r\n    if (!studentInfo?.timeSlotIn || !studentInfo?.timeSlotOut) return false\r\n\r\n    const punchInHoursMinutes = studentInfo.timeSlotIn.split(':')\r\n    const punchOutHoursMinutes = studentInfo.timeSlotOut.split(':')\r\n    if (punchInHoursMinutes.length < 2 || punchOutHoursMinutes.length < 2)\r\n      return false\r\n\r\n    const now = new Date()\r\n    const punchIn = new Date()\r\n    punchIn.setHours(parseInt(punchInHoursMinutes[0]))\r\n    punchIn.setMinutes(parseInt(punchInHoursMinutes[1]))\r\n    const punchOut = new Date()\r\n    punchOut.setHours(parseInt(punchOutHoursMinutes[0]))\r\n    punchOut.setMinutes(parseInt(punchOutHoursMinutes[1]))\r\n\r\n    return (\r\n      now.getTime() >= punchIn.getTime() && now.getTime() <= punchOut.getTime()\r\n    )\r\n  }, [studentInfo])\r\n\r\n  const handleCapture = (base64: string) => setImage(base64)\r\n  const onCloseModal = () => {\r\n    _resetStatus()\r\n    setStudentInfo(undefined)\r\n    if (toastId.current) toast.dismiss(toastId.current)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Box $padding=\"medium\">\r\n        {indicatorEl && (\r\n          <LoaderContainer {...containerProps}>{indicatorEl}</LoaderContainer>\r\n        )}\r\n        <Heading>Punch {isPunchIn ? 'In' : 'Out'}</Heading>\r\n        <Webcam onCapture={handleCapture} />\r\n      </Box>\r\n      <Modal\r\n        open={Boolean(studentInfo)}\r\n        onClose={onCloseModal}\r\n        center\r\n        aria-labelledby=\"modal-title\"\r\n        styles={{\r\n          root: { color: 'gray' },\r\n          modal: { borderRadius: '4px' },\r\n        }}\r\n      >\r\n        <Heading id=\"modal-title\">\r\n          {isPunchIn ? (\r\n            'Snapshot'\r\n          ) : (\r\n            <>\r\n              Have a nice day <StyledHeartIcon />\r\n            </>\r\n          )}\r\n        </Heading>\r\n        <Box $direction=\"row\">\r\n          <StyledImg\r\n            src={\r\n              studentInfo?.image ||\r\n              'https://i.ibb.co/RctXVMy/user-placeholder.png'\r\n            }\r\n          />\r\n          <Box $margin={{ left: 'medium' }} $justifyContent=\"center\">\r\n            <StyledName>{studentInfo?.name}</StyledName>\r\n            {studentInfo?.timeSlotIn && studentInfo.timeSlotOut ? (\r\n              <div>\r\n                {studentInfo?.timeSlotIn}-{studentInfo?.timeSlotOut}\r\n              </div>\r\n            ) : (\r\n              <P $color=\"error\">Time slots not updated in database</P>\r\n            )}\r\n          </Box>\r\n        </Box>\r\n        <Box $direction=\"row\" $margin={{ top: 'medium' }}>\r\n          Fee paid:\r\n          {studentInfo?.feePaid ? <StyledCheckIcon /> : <StyledCrossIcon />}\r\n        </Box>\r\n        <Box $direction=\"row\" $margin={{ top: 'small' }}>\r\n          On time:\r\n          {isOnTime ? <StyledCheckIcon /> : <StyledCrossIcon />}\r\n        </Box>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PunchIn\r\n","import React from 'react'\nimport Punch from './PunchInOut'\n\nconst PunchIn = () => {\n  return <Punch isPunchIn={true} />\n}\n\nexport default PunchIn\n","import React from 'react'\r\nimport Punch from 'pages/punch-in/PunchInOut'\r\n\r\nconst PunchOut = () => {\r\n  return <Punch isPunchIn={false} />\r\n}\r\n\r\nexport default PunchOut\r\n","import { useState, useEffect } from 'react'\nimport { toast } from 'react-toastify'\nimport { rekog } from 'App'\n\nimport convertDataURIToBinary from 'utils/base64-to-uint8array'\nconst { REACT_APP_AWS_REKOGNITION_COLLECTION_ID: CollectionId } = process.env\n\ninterface Props {\n  base64Image: string\n  userId?: string\n}\nconst useIndexFace = ({ base64Image, userId }: Props) => {\n  const [status, setStatus] = useState<{\n    isSuccess: boolean\n    isFetching: boolean\n    error: string\n    faceId: string\n  }>({ isSuccess: false, isFetching: false, error: '', faceId: '' })\n  useEffect(() => {\n    if (base64Image && userId) {\n      setStatus((prevState) => ({ ...prevState, isFetching: true }))\n      const payload = {\n        CollectionId,\n        ExternalImageId: userId,\n        Image: { Bytes: convertDataURIToBinary(base64Image) },\n        MaxFaces: 1,\n      }\n      rekog\n        .indexFaces(payload)\n        .then((res) => {\n          let faceId = ''\n          if (res.FaceRecords?.length) {\n            faceId = res.FaceRecords[0]?.Face?.FaceId || ''\n            setStatus((prevState) => ({\n              ...prevState,\n              isSuccess: true,\n              faceId,\n            }))\n          }\n          if (!faceId) {\n            const errorMessage = 'No face could be detected in selected image!'\n            toast.error(errorMessage)\n            setStatus((prevState) => ({ ...prevState, error: errorMessage }))\n          }\n        })\n        .catch((err) => {\n          toast.error(err?.message || 'Face data could not be extracted!')\n          console.error(err)\n          // If collection does not exists then create new\n          if (err?.Code)\n            setStatus((prevState) => ({ ...prevState, error: err.Code }))\n        })\n    }\n  }, [base64Image, userId])\n  return status\n}\n\nexport default useIndexFace\n","import { useState, useEffect } from 'react'\n\ninterface Props {\n  blob?: Blob\n}\nconst useImagePreviewUrl = ({ blob }: Props) => {\n  const [imagePreviewUrl, setPreview] = useState<any>('')\n  useEffect(() => {\n    if (blob) {\n      const reader = new FileReader()\n      reader.onloadend = () => {\n        const previewUrl = reader.result || ''\n        setPreview(previewUrl)\n      }\n      reader.readAsDataURL(blob)\n    }\n  }, [blob])\n\n  return imagePreviewUrl\n}\n\nexport default useImagePreviewUrl\n","import React, { useState, ChangeEvent, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { useForm } from 'react-hook-form'\n\nimport Button from 'components/Button'\nimport Webcam from 'components/Webcam'\nimport Box from 'components/Box'\nimport { Student } from 'types/student'\nimport useImagePreviewUrl from 'hooks/useImagePreviewUrl'\n\nconst StyledForm = styled.form`\n  font-weight: 600;\n  margin: ${({ theme }) => theme.edgeSize.medium};\n  label,\n  input {\n    line-height: 1.5;\n    border-radius: ${({ theme }) => theme.edgeSize.xsmall};\n  }\n  label {\n    font-size: 18px;\n    margin-bottom: ${({ theme }) => theme.edgeSize.small};\n    min-width: 220px;\n    font-weight: 700;\n  }\n  input {\n    width: 100%;\n    font-size: 24px;\n    font-weight: 300;\n    margin-bottom: ${({ theme }) => theme.edgeSize.medium};\n  }\n`\nconst StyledPreview = styled.img`\n  height: ${({ theme }) => theme.size.xlarge};\n  border-radius: ${({ theme }) => theme.edgeSize.xsmall};\n`\nconst StyledError = styled.div.attrs(() => ({\n  role: 'alert',\n  'aria-relevant': 'all',\n}))`\n  font-size: 18px;\n  line-height: 1.5;\n  margin-top: 0;\n  color: ${({ theme }) => theme.color.error};\n`\nexport const LABELS = {\n  image: 'Photo',\n  admissionNo: 'Admission No.',\n  name: 'Name',\n  fatherName: \"Father's Name\",\n  mobileNo: 'Mobile Number',\n  gender: 'Gender',\n  identificationDoc: 'Identification Submitted',\n  identificationDocNo: 'Idenfication Id',\n  address: 'Address',\n  territory: 'Territory',\n  router: 'Router',\n  lockerNo: 'Locker Number',\n  reservedSeat: 'Reserved Seat',\n  dateOfJoining: 'Date of joining',\n  validUpto: 'Valid Upto',\n  timeSlotIn: 'Time Slot In',\n  timeSlotOut: 'Time Slot Out',\n  feePaid: 'Fee Paid',\n}\ninterface Props {\n  onSubmit: (data: Student) => void\n  defaultValues?: Student | {}\n}\nconst StudentForm = ({ onSubmit, defaultValues = {} }: Props) => {\n  const [showWebcam, setWebcamVisible] = useState(true)\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    watch,\n    formState: { errors },\n  } = useForm<Student>({ mode: 'onTouched', defaultValues })\n  const [imageFile, setImageFile] = useState<Blob>()\n\n  const base64Image = useImagePreviewUrl({\n    blob: imageFile,\n  })\n\n  useEffect(() => {\n    if (base64Image) setValue('image', base64Image)\n  }, [base64Image, setValue])\n\n  const handleCapture = (base64Image: string) => {\n    setValue('image', base64Image)\n  }\n  const handleImageChange = (e: ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files?.length) setImageFile(e.target.files[0])\n  }\n  const imageValue = watch('image')\n\n  return (\n    <StyledForm onSubmit={handleSubmit((data) => onSubmit(data))}>\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"image\">{LABELS.image}*</label>\n        {errors.image && <StyledError>{LABELS.image} is required</StyledError>}\n      </Box>\n      <Box $margin={{ bottom: 'large' }} $direction=\"row\">\n        <Button\n          color=\"gray\"\n          backgroundColor=\"#fff\"\n          shadowColor=\"gray\"\n          onClick={() => setWebcamVisible((p) => !p)}\n        >\n          {showWebcam ? 'Use file picker' : 'Use webcam'}\n        </Button>\n      </Box>\n      <hr />\n      <Box\n        $direction=\"row\"\n        $height=\"xxlarge\"\n        $justifyContent=\"center\"\n        $margin={{ bottom: 'medium' }}\n      >\n        {showWebcam ? (\n          <div style={{ width: '100%' }}>\n            <Webcam onCapture={handleCapture} />\n          </div>\n        ) : (\n          <input\n            type=\"file\"\n            accept=\"image/*\"\n            id=\"image\"\n            onChange={handleImageChange}\n          />\n        )}\n        <StyledPreview\n          src={imageValue || 'https://i.ibb.co/SyLM04b/skeleton.png'}\n          alt=\"preview\"\n        />\n      </Box>\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"admissionNo\">{LABELS.admissionNo}*</label>\n        {errors.admissionNo && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.admissionNo} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"text\"\n        id=\"admissionNo\"\n        aria-required\n        {...register('admissionNo', { required: 'true' })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"name\">{LABELS.name}*</label>\n        {errors.name && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.name} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"text\"\n        id=\"name\"\n        aria-required\n        {...register('name', { required: true })}\n      />\n      <Box>\n        <label htmlFor=\"fatherName\">{LABELS.fatherName}</label>\n      </Box>\n      <input type=\"text\" id=\"fatherName\" {...register('fatherName')} />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"mobileNo\">{LABELS.mobileNo}*</label>\n        {errors.mobileNo && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.mobileNo} is invalid\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"number\"\n        id=\"mobileNo\"\n        {...register('mobileNo', { required: true, minLength: 10 })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"\">{LABELS.gender}*</label>\n        {errors.gender && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.gender} is required\n          </StyledError>\n        )}\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"gender_male\" style={{ fontWeight: 300 }}>\n          Male\n        </label>\n        <input\n          type=\"radio\"\n          id=\"gender_male\"\n          {...register('gender', { required: true })}\n          value=\"Male\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"gender_female\" style={{ fontWeight: 300 }}>\n          Female\n        </label>\n        <input\n          type=\"radio\"\n          id=\"gender_female\"\n          {...register('gender', { required: true })}\n          value=\"Female\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"gender_other\" style={{ fontWeight: 300 }}>\n          Other\n        </label>\n        <input\n          type=\"radio\"\n          id=\"gender_other\"\n          {...register('gender', { required: true })}\n          value=\"Other\"\n        />\n      </Box>\n      <hr />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"\">{LABELS.identificationDoc}*</label>\n        {errors.identificationDoc && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.identificationDoc} is required\n          </StyledError>\n        )}\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"id_doc_aadhar\" style={{ fontWeight: 300 }}>\n          Aadhar Card\n        </label>\n        <input\n          type=\"radio\"\n          id=\"id_doc_aadhar\"\n          {...register('identificationDoc', { required: true })}\n          value=\"Aadhar\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"id_doc_dl\" style={{ fontWeight: 300 }}>\n          Driving License\n        </label>\n        <input\n          type=\"radio\"\n          id=\"id_doc_dl\"\n          {...register('identificationDoc', { required: true })}\n          value=\"Driving License\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"id_doc_passport\" style={{ fontWeight: 300 }}>\n          Passport\n        </label>\n        <input\n          type=\"radio\"\n          id=\"id_doc_passport\"\n          {...register('identificationDoc', { required: true })}\n          value=\"Passport\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"id_doc_other\" style={{ fontWeight: 300 }}>\n          Other\n        </label>\n        <input\n          type=\"radio\"\n          id=\"id_doc_other\"\n          {...register('identificationDoc', { required: true })}\n          value=\"Other\"\n        />\n      </Box>\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"identificationDocNo\">\n          {LABELS.identificationDocNo}*\n        </label>\n        {errors.identificationDocNo && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.identificationDocNo} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"text\"\n        id=\"identificationDocNo\"\n        {...register('identificationDocNo', { required: true })}\n      />\n      <label htmlFor=\"address\">{LABELS.address}</label>\n      <input type=\"text\" id=\"address\" {...register('address')} />\n      <label htmlFor=\"\">{LABELS.territory}</label>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"territory_urban\" style={{ fontWeight: 300 }}>\n          Urban\n        </label>\n        <input\n          type=\"radio\"\n          id=\"territory_urban\"\n          {...register('territory')}\n          value=\"Urban\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"territory_rural\" style={{ fontWeight: 300 }}>\n          Rural\n        </label>\n        <input\n          type=\"radio\"\n          id=\"territory_rural\"\n          {...register('territory')}\n          value=\"Rural\"\n        />\n      </Box>\n      <label htmlFor=\"router\">{LABELS.router}</label>\n      <input type=\"text\" id=\"router\" {...register('router')} />\n      <label htmlFor=\"lockerNo\">{LABELS.lockerNo}</label>\n      <input type=\"text\" id=\"lockerNo\" {...register('lockerNo')} />\n      <label htmlFor=\"reservedSeat\">{LABELS.reservedSeat}</label>\n      <input type=\"text\" id=\"reservedSeat\" {...register('reservedSeat')} />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"dateOfJoining\">{LABELS.dateOfJoining}*</label>\n        {errors.dateOfJoining && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.dateOfJoining} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"date\"\n        id=\"dateOfJoining\"\n        {...register('dateOfJoining', { required: true })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"validUpto\">{LABELS.validUpto}*</label>\n        {errors.validUpto && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.validUpto} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"date\"\n        id=\"validUpto\"\n        {...register('validUpto', { required: true })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"timeSlotIn\">{LABELS.timeSlotIn}*</label>\n        {errors.timeSlotIn && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.timeSlotIn} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"time\"\n        id=\"timeSlotIn\"\n        {...register('timeSlotIn', { required: true })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"timeSlotOut\">{LABELS.timeSlotOut}*</label>\n        {errors.timeSlotOut && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.timeSlotOut} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"time\"\n        id=\"timeSlotOut\"\n        {...register('timeSlotOut', { required: true })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"\">{LABELS.feePaid}*</label>\n        {errors.feePaid && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.feePaid} is required\n          </StyledError>\n        )}\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"fee_paid_yes\" style={{ fontWeight: 300 }}>\n          Yes\n        </label>\n        <input\n          type=\"radio\"\n          id=\"fee_paid_yes\"\n          {...register('feePaid', { required: true })}\n          value=\"true\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"fee_paid_no\" style={{ fontWeight: 300 }}>\n          No\n        </label>\n        <input\n          type=\"radio\"\n          id=\"fee_paid_no\"\n          {...register('feePaid', { required: true })}\n          value=\"false\"\n        />\n      </Box>\n      <Box\n        $direction=\"row\"\n        $justifyContent=\"center\"\n        $padding={{ bottom: 'large' }}\n      >\n        <Button type=\"submit\" size=\"large\">\n          Submit\n        </Button>\n      </Box>\n    </StyledForm>\n  )\n}\n\nexport default StudentForm\n","import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useIndexedDB } from 'react-indexed-db'\r\nimport { useLoading } from '@agney/react-loading'\r\n\r\nimport Heading from 'components/Heading'\r\nimport Box from 'components/Box'\r\nimport LoaderContainer from 'components/LoadingContainer'\r\nimport useIndexFace from 'hooks/useIndexFace'\r\nimport { Student } from 'types/student'\r\nimport Form from 'components/StudentForm'\r\nimport P from 'components/Paragraph'\r\n\r\n// @todo:Test it\r\nconst Register = () => {\r\n  const history = useHistory()\r\n  const { add, update } = useIndexedDB('students')\r\n  const [userId, setUserId] = useState<string>('')\r\n  const [student, setStudent] = useState<Student>()\r\n  const { isFetching, isSuccess, error, faceId } = useIndexFace({\r\n    base64Image: student?.image,\r\n    userId,\r\n  })\r\n  const { containerProps, indicatorEl } = useLoading({\r\n    loading: isFetching && !isSuccess,\r\n  })\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      update({ ...student, id: parseInt(userId), faceId }).catch(console.error)\r\n      history.push('/list')\r\n    }\r\n  }, [isSuccess, history, faceId, userId, update, student])\r\n  const onSubmit = async (data: Student) => {\r\n    try {\r\n      if (data.image) {\r\n        const dbRes = await add(data)\r\n        // eslint-disable-next-line no-console\r\n        console.log(dbRes)\r\n        setUserId(dbRes.toString())\r\n        setStudent(data)\r\n      } else {\r\n        window.scrollTo({\r\n          top: 0,\r\n          left: 0,\r\n          behavior: 'smooth',\r\n        })\r\n        alert('Image is required for authentication')\r\n      }\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n  // eslint-disable-next-line no-console\r\n  console.log(\r\n    isFetching,\r\n    isSuccess,\r\n    error,\r\n    '----isFetching, isSuccess, error----',\r\n  )\r\n\r\n  return (\r\n    <Box $padding=\"medium\">\r\n      {indicatorEl && (\r\n        <LoaderContainer {...containerProps}>{indicatorEl}</LoaderContainer>\r\n      )}\r\n      <Heading>Register</Heading>\r\n      <P>Fields marked with an asterisk (*) are required.</P>\r\n      <Form onSubmit={onSubmit} />\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import { useState, useEffect } from 'react'\nimport { toast } from 'react-toastify'\nimport { rekog } from 'App'\n\nconst { REACT_APP_AWS_REKOGNITION_COLLECTION_ID: CollectionId } = process.env\n\ninterface Props {\n  faceIds: string[]\n}\nconst useDeleteFaces = ({ faceIds }: Props) => {\n  const [status, setStatus] = useState<{\n    isSuccess: boolean\n    isFetching: boolean\n    error: string\n  }>({ isSuccess: false, isFetching: false, error: '' })\n  useEffect(() => {\n    if (faceIds[0] && !status.isFetching && !status.isSuccess) {\n      setStatus((prevState) => ({ ...prevState, isFetching: true }))\n      const payload = {\n        CollectionId,\n        FaceIds: faceIds,\n      }\n      rekog\n        .deleteFaces(payload)\n        .then(() => {\n          setStatus((prevState) => ({ ...prevState, isSuccess: true }))\n        })\n        .catch((err) => {\n          toast.error(err?.message || 'Face data could not be deleted!')\n          console.error(err)\n          // If collection does not exists then create new\n          if (err?.Code)\n            setStatus((prevState) => ({ ...prevState, error: err.Code }))\n        })\n    }\n    // eslint-disable-next-line\n  }, [faceIds])\n  return status\n}\n\nexport default useDeleteFaces\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { useIndexedDB } from 'react-indexed-db'\nimport { useLoading } from '@agney/react-loading'\nimport { useEffectOnce } from 'react-use'\nimport { useTable, Column, CellProps } from 'react-table'\nimport {\n  RiEditBoxFill,\n  RiDeleteBin7Fill,\n  RiAddBoxFill,\n  RiFileExcel2Fill,\n} from 'react-icons/ri'\nimport { useHistory } from 'react-router-dom'\nimport { Modal } from 'react-responsive-modal'\nimport 'react-responsive-modal/styles.css'\n\nimport Box from 'components/Box'\nimport Heading from 'components/Heading'\nimport { Student } from 'types/student'\nimport styled, { css } from 'styled-components'\nimport Button from 'components/Button'\nimport useDeleteFaces from 'hooks/useDeleteFaces'\nimport LoaderContainer from 'components/LoadingContainer'\n\nconst StyledImage = styled.img`\n  height: ${({ theme }) => theme.size.large};\n  border-radius: 4px;\n`\nconst StyledTable = styled.table`\n  border: solid 1px ${({ theme }) => theme.color['accent-1']};\n  border-radius: 4px;\n`\nconst SmallIconCss = css`\n  height: 24px;\n  width: 24px;\n  color: ${({ theme }) => theme.color['accent-3']};\n  cursor: pointer;\n`\nconst StyledEditIcon = styled(RiEditBoxFill)`\n  ${SmallIconCss}\n`\nconst StyledDeleteIcon = styled(RiDeleteBin7Fill)`\n  ${SmallIconCss}\n`\nconst IconCss = css`\n  height: 32px;\n  width: 32px;\n  cursor: pointer;\n  margin-left: 16px;\n`\nconst StyledAddIcon = styled(RiAddBoxFill)`\n  ${IconCss}\n`\nconst StyledExcelIcon = styled(RiFileExcel2Fill)`\n  ${IconCss}\n`\n\nconst ImageCell = ({ value: base64URL }: CellProps<any>) => (\n  <StyledImage src={base64URL} />\n)\n\nconst List = () => {\n  const history = useHistory()\n  const { getAll, deleteRecord } = useIndexedDB('students')\n  const [students, setStudents] = useState<Student[]>([])\n  const [admissionNo, setAdmissionNo] = useState('')\n  const [deleteConfirm, setDeleteConfirm] = useState(false)\n\n  const selectedStudent = useMemo(() => {\n    return students.find((student) => student.admissionNo === admissionNo)\n  }, [admissionNo, students])\n  const { isFetching, isSuccess, error } = useDeleteFaces({\n    faceIds: [(deleteConfirm && selectedStudent?.faceId) || ''],\n  })\n  // eslint-disable-next-line no-console\n  console.log(\n    isFetching,\n    isSuccess,\n    error,\n    '-----isFetching, isSuccess, error----',\n  )\n  const fetchStudents = () => {\n    getAll().then((studentsFromDB) => {\n      setStudents(studentsFromDB)\n    })\n  }\n  useEffect(() => {\n    if (isSuccess) {\n      const databaseId = students.find(\n        (student) => student.admissionNo === admissionNo,\n      )?.id\n      if (databaseId) {\n        deleteRecord(databaseId).catch(console.error)\n        setAdmissionNo('')\n        setDeleteConfirm(false)\n        fetchStudents()\n      }\n    }\n    // eslint-disable-next-line\n  }, [isSuccess])\n\n  useEffectOnce(fetchStudents)\n\n  const { containerProps, indicatorEl } = useLoading({\n    loading: isFetching && !isSuccess,\n  })\n\n  const handleEdit = (admissionNo: string) => {\n    // eslint-disable-next-line no-console\n    console.log(admissionNo)\n    history.push('/edit/' + admissionNo)\n  }\n  const handleDelete = (admissionNo: string) => {\n    // eslint-disable-next-line no-console\n    console.log(admissionNo, 'this admission no need to be deleted-------')\n    setAdmissionNo(admissionNo)\n  }\n  const ActionsCell = ({ value }: CellProps<any>) => (\n    <Box $direction=\"row\" $justifyContent=\"space-around\">\n      <StyledEditIcon\n        role=\"link\"\n        data-href=\"/edit\"\n        onClick={() => handleEdit(value)}\n      />\n      <StyledDeleteIcon onClick={() => handleDelete(value)} />\n    </Box>\n  )\n  const columns: Column<Student>[] = React.useMemo(\n    () => [\n      {\n        Header: 'Image',\n        accessor: 'image', // accessor is the \"key\" in the data\n        Cell: ImageCell,\n      },\n      {\n        Header: 'Name',\n        accessor: 'name',\n      },\n      {\n        Header: 'Mobile No',\n        accessor: 'mobileNo',\n      },\n      {\n        Header: 'Router',\n        accessor: 'router',\n      },\n      {\n        Header: 'Locker',\n        accessor: 'lockerNo',\n      },\n      {\n        Header: 'Seat',\n        accessor: 'reservedSeat',\n      },\n      {\n        Header: 'Fee Paid',\n        accessor: 'feePaid',\n      },\n      {\n        Header: 'Action',\n        accessor: 'admissionNo',\n        Cell: ActionsCell,\n      },\n    ],\n    // eslint-disable-next-line\n    [],\n  )\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n  } = useTable({ columns, data: students })\n\n  const onCloseModal = () => setAdmissionNo('')\n  const handleAddClick = () => history.push('/register')\n  const handleAddMultipleClick = () => history.push('/register-multiple')\n\n  return (\n    <Box $padding=\"medium\">\n      {indicatorEl && (\n        <LoaderContainer {...containerProps}>{indicatorEl}</LoaderContainer>\n      )}\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <Heading>List</Heading>\n        <Box $direction=\"row\">\n          <StyledAddIcon\n            onClick={handleAddClick}\n            role=\"link\"\n            data-href=\"/register\"\n          />\n          <StyledExcelIcon\n            onClick={handleAddMultipleClick}\n            role=\"link\"\n            data-href=\"/register-multiple\"\n          />\n        </Box>\n      </Box>\n      <StyledTable {...getTableProps()}>\n        <thead>\n          {headerGroups.map((headerGroup) => (\n            // eslint-disable-next-line react/jsx-key\n            <tr {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map((column) => (\n                // eslint-disable-next-line react/jsx-key\n                <th {...column.getHeaderProps()}>{column.render('Header')}</th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n          {rows.map((row) => {\n            prepareRow(row)\n            return (\n              // eslint-disable-next-line react/jsx-key\n              <tr {...row.getRowProps()}>\n                {row.cells.map((cell) => {\n                  // eslint-disable-next-line react/jsx-key\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\n                })}\n              </tr>\n            )\n          })}\n        </tbody>\n        <Modal\n          open={Boolean(admissionNo)}\n          onClose={onCloseModal}\n          center\n          aria-labelledby=\"modal-title\"\n          styles={{\n            root: { color: 'gray' },\n            modal: { borderRadius: '4px' },\n          }}\n          showCloseIcon={false}\n        >\n          <Heading id=\"modal-title\">Are you sure ?</Heading>\n          <Box $direction=\"row\" $justifyContent=\"space-around\">\n            <Button hasShadow={false} onClick={() => setDeleteConfirm(true)}>\n              Yes\n            </Button>\n            <Button hasShadow={false} onClick={onCloseModal}>\n              No\n            </Button>\n          </Box>\n        </Modal>\n      </StyledTable>\n    </Box>\n  )\n}\n\nexport default List\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useIndexedDB } from 'react-indexed-db'\nimport { useEffectOnce } from 'react-use'\nimport { useHistory } from 'react-router-dom'\nimport { useLoading } from '@agney/react-loading'\nimport { toast } from 'react-toastify'\n\nimport { Student } from 'types/student'\nimport Form from 'components/StudentForm'\nimport Box from 'components/Box'\nimport useDeleteFaces from 'hooks/useDeleteFaces'\nimport useIndexFace from 'hooks/useIndexFace'\nimport LoaderContainer from 'components/LoadingContainer'\n\nconst Edit = () => {\n  const history = useHistory()\n  const { admissionNo } = useParams<{ admissionNo: 'string' }>()\n  const { getByIndex, update } = useIndexedDB('students')\n  const [student, setStudent] = useState<Student>()\n  const [updatedStudent, setUpdatedStudent] = useState<Student>()\n  const { isFetching, isSuccess: isFaceDataCleared } = useDeleteFaces({\n    faceIds: [(updatedStudent && student?.faceId) || ''],\n  })\n  const { isSuccess, error: indexFaceError, faceId } = useIndexFace({\n    base64Image:\n      ((isFaceDataCleared || !student?.faceId) && updatedStudent?.image) || '',\n    userId: updatedStudent?.id?.toString(),\n  })\n  useEffect(() => {\n    if (isSuccess) {\n      update({\n        ...updatedStudent,\n        id: updatedStudent?.id,\n        faceId,\n      })\n        .then(() => {\n          history.push('/list')\n        })\n        .catch(console.error)\n    }\n    if (indexFaceError) {\n      // if face could not be indexed then remove image from indexed-db\n      window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: 'smooth',\n      })\n      update({\n        ...updatedStudent,\n        id: updatedStudent?.id,\n        faceId: '',\n        image: '',\n      }).catch(console.error)\n    }\n  }, [isSuccess, indexFaceError, history, faceId, update, updatedStudent])\n  useEffectOnce(() => {\n    getByIndex('admissionNo', admissionNo).then(setStudent).catch(console.error)\n  })\n  const { containerProps, indicatorEl } = useLoading({\n    loading: isFetching && !isSuccess,\n  })\n  const onSubmit = (data: Student) => {\n    update(data)\n      .then(() => {\n        // if image has been changed by user, update aws face data\n        if (data.image !== student?.image) setUpdatedStudent(data)\n        else {\n          toast.success('Student updated!')\n          history.push('/list')\n        }\n      })\n      .catch((err) => {\n        toast.error(err?.message || 'Student could not be updated!')\n        console.error(err)\n      })\n  }\n\n  return (\n    <Box>\n      {indicatorEl && (\n        <LoaderContainer {...containerProps}>{indicatorEl}</LoaderContainer>\n      )}\n      {student && <Form defaultValues={student} onSubmit={onSubmit} />}\n    </Box>\n  )\n}\n\nexport default Edit\n","const downloadFile = (file: any, fileName: string) => {\n  const blob = new Blob([file])\n  const a = document.createElement('a')\n  a.href = URL.createObjectURL(blob)\n  a.download = fileName\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n}\n\nexport default downloadFile\n","import React from 'react'\nimport { useLoading } from '@agney/react-loading'\nimport { toast } from 'react-toastify'\nimport { useIndexedDB } from 'react-indexed-db'\nimport { useHistory } from 'react-router-dom'\n\nimport Heading from 'components/Heading'\nimport Box from 'components/Box'\nimport LoaderContainer from 'components/LoadingContainer'\nimport P from 'components/Paragraph'\nimport { jsonToCSV, CSVReader } from 'react-papaparse'\nimport Button from 'components/Button'\n\nimport downloadFile from 'utils/download-file'\nimport { parseStudents } from 'utils/student'\nimport { LABELS } from 'components/StudentForm'\n\nconst fields = Object.keys(LABELS)\n// removing \"image\" field\nfields.shift()\nconst csv = jsonToCSV({ fields })\n\nconst RegisterMultiple = () => {\n  const history = useHistory()\n  const { add } = useIndexedDB('students')\n  const { containerProps, indicatorEl } = useLoading({\n    loading: false,\n  })\n  const handleDownload = () => {\n    downloadFile(csv, 'template.csv')\n  }\n  const handleOnDrop = (data: any) => {\n    if (!data || !data.length || data.length < 2) return\n    data.shift()\n    const studentsData = data\n      .map((d: { data: string[] }) => d.data)\n      .filter((d: string[]) => d.length > 1)\n    try {\n      const students = parseStudents(studentsData)\n      const promises = students.map((student) => add({ ...student }))\n      Promise.allSettled(promises).then((results: any[]) => {\n        results.forEach((result) => {\n          if (result.status === 'rejected') {\n            toast.error(\n              'Could not register one of the student. ' +\n                result?.reason?.target?.error?.message,\n            )\n          }\n        })\n        history.push('/list')\n      })\n    } catch (error) {\n      toast.error(error?.message || 'Something went wrong!')\n    }\n  }\n\n  return (\n    <Box $padding=\"medium\">\n      {indicatorEl && (\n        <LoaderContainer {...containerProps}>{indicatorEl}</LoaderContainer>\n      )}\n      <Heading>Register multiple</Heading>\n      <P>\n        Please don&apos;t change column <em>names</em> and <em>order</em> in\n        provided template\n      </P>\n      <Box $margin={{ bottom: 'large' }} $direction=\"row\">\n        <Button\n          onClick={handleDownload}\n          hasShadow={false}\n          color=\"accent-3\"\n          backgroundColor=\"#fff\"\n        >\n          Download template\n        </Button>\n      </Box>\n      <CSVReader\n        onFileLoad={handleOnDrop}\n        onError={console.error}\n        addRemoveButton\n      >\n        <span>Drop CSV file here or click to upload.</span>\n      </CSVReader>\n    </Box>\n  )\n}\n\nexport default RegisterMultiple\n","import Homepage from 'pages/home'\nimport PunchIn from 'pages/punch-in'\nimport PunchOut from 'pages/punch-out'\nimport Register from 'pages/register'\nimport List from 'pages/list'\nimport Edit from 'pages/edit'\nimport RegisterMultiple from 'pages/register-multiple'\n\nexport default [\n  {\n    path: '/',\n    exact: true,\n    component: Homepage,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n  {\n    path: '/punch-in',\n    exact: true,\n    component: PunchIn,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n  {\n    path: '/punch-out',\n    exact: true,\n    component: PunchOut,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n  {\n    path: '/register',\n    exact: true,\n    component: Register,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n  {\n    path: '/list',\n    exact: true,\n    component: List,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n  {\n    path: '/edit/:admissionNo',\n    exact: true,\n    component: Edit,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n  {\n    path: '/register-multiple',\n    exact: true,\n    component: RegisterMultiple,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n]\n","import { LABELS } from 'components/StudentForm'\n\nexport const parseStudents = (list: any[]): any[] => {\n  const keys = Object.keys(LABELS)\n  // don't want \"images\"\n  keys.shift()\n  const students = list.map((array, rowId) => {\n    const rowNo = rowId + 2\n    const student: any = {}\n    keys.forEach((key, index) => {\n      let value = array[index]\n      if (\n        !value &&\n        (key === 'admissionNo' ||\n          key === 'name' ||\n          key === 'mobileNo' ||\n          key === 'identificationDocNo' ||\n          key === 'dateOfJoining' ||\n          key === 'validUpto')\n      ) {\n        throw Error(key + ' is a required field. Check row: ' + rowNo)\n      }\n      if (key === 'mobileNo' && value.length < 10) {\n        throw Error('MobileNo should be atleast 10 digits. Check row: ' + rowNo)\n      }\n      if (\n        key === 'gender' &&\n        value &&\n        value !== 'Male' &&\n        value !== 'Female' &&\n        value !== 'Other'\n      ) {\n        throw Error(\n          'Gender should be either Male, Female or Other. Check row: ' + rowNo,\n        )\n      }\n      if (\n        key === 'identificationDoc' &&\n        value &&\n        value !== 'Aadhar' &&\n        value !== 'Driving License' &&\n        value !== 'Passport' &&\n        value !== 'Other'\n      ) {\n        throw Error(\n          'identificationDoc should be either Aadhar, Driving License, Passport or Other. Check row: ' +\n            rowNo,\n        )\n      }\n      if (\n        key === 'territory' &&\n        value &&\n        value !== 'Rural' &&\n        value !== 'Urban'\n      ) {\n        throw Error(\n          'territory should be either Rural or Urban. Check row: ' + rowNo,\n        )\n      }\n\n      if (key === 'mobile') {\n        value = parseInt(value)\n      } else if (key === 'dateOfJoining' || key === 'validUpto') {\n        value = new Date(value)\n      } else if (key === 'feePaid') {\n        value = value === 'true'\n      } else {\n        student[key] = array[index]\n      }\n    })\n    return student\n  })\n  return students\n}\n","interface AuthObject {\n  token?: string | null\n}\nconst auth: AuthObject = {}\n\nfunction loadAuthToken() {\n  const authToken: string | null = localStorage.getItem('current_auth_token')\n  auth.token = authToken\n  if (Boolean(authToken) === false) setTimeout(loadAuthToken, 200)\n}\n\nfunction setAuthToken(authToken: string) {\n  localStorage.setItem('current_auth_token', authToken)\n  auth.token = authToken\n}\n\nfunction getAuthToken() {\n  return auth.token\n}\n\nfunction resetAuthToken() {\n  localStorage.clear()\n  auth.token = null\n}\n\nexport { loadAuthToken, setAuthToken, getAuthToken, resetAuthToken }\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nconst StyledHeader = styled.header`\n  display: flex;\n  align-items: center;\n  height: ${({ theme }) => theme.size.medium};\n  background-color: #383863;\n  padding: ${({ theme }) => theme.edgeSize.small};\n  box-shadow: rgba(0, 0, 0, 0.3) 0px 2px 3px 0px;\n`\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #fff;\n  font-weight: 600;\n  margin: 0 8px;\n  &:active {\n    color: ${({ theme }) => theme.color['accent-2']};\n  }\n`\nconst Navbar = () => {\n  return (\n    <StyledHeader>\n      <StyledLink to=\"/register\">Register</StyledLink>\n      <StyledLink to=\"/punch-in\">Punch-in</StyledLink>\n      <StyledLink to=\"/punch-out\">Punch-out</StyledLink>\n      <StyledLink to=\"/list\">List</StyledLink>\n    </StyledHeader>\n  )\n}\n\nexport default Navbar\n","// lib imports\nimport React from 'react'\n\n// shared imports\nimport Box from 'components/Box'\nimport Navbar from 'components/Navbar'\n\ninterface Props {\n  children?: any\n  title?: string\n}\nconst StackLayout = ({ children }: Props) => {\n  return (\n    <Box $height=\"100%\" bgColor=\"primary\" style={{ minHeight: '100vh' }}>\n      <Navbar />\n      {children}\n    </Box>\n  )\n}\n\nexport default StackLayout\n","import React from 'react'\nimport { Route } from 'react-router-dom'\n\nimport { getAuthToken } from 'utils/auth-singleton'\nimport { StackLayout } from 'layouts'\n\ninterface Props {\n  component?: any\n}\nconst PublicRoute = ({ component: Component, ...rest }: Props) => {\n  const authToken = getAuthToken()\n  if (authToken) {\n    // Call getProfile async, so that we can display profile in Header\n  }\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return (\n          <StackLayout>\n            <Component {...props} />\n          </StackLayout>\n        )\n      }}\n    />\n  )\n}\n\nexport default PublicRoute\n","import React from 'react'\nimport { Route } from 'react-router-dom'\n\nimport { getAuthToken } from 'utils/auth-singleton'\nimport StackLayout from 'layouts/Stack'\n\ninterface Props {\n  component?: any\n}\nconst PublicOnlyRoute = ({ component: Component, ...rest }: Props) => {\n  const authToken = getAuthToken()\n  if (authToken) {\n    //TODO: if authToken is there then redirect according to business logic\n  }\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return (\n          <StackLayout>\n            <Component {...props} />\n          </StackLayout>\n        )\n      }}\n    />\n  )\n}\n\nexport default PublicOnlyRoute\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nimport { getAuthToken } from 'utils/auth-singleton'\nimport StackLayout from 'layouts/Stack'\n\ninterface Props {\n  component?: any\n}\nconst PrivateRoute = ({ component: Component, ...rest }: Props) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        const authToken = getAuthToken()\n        if (!authToken) {\n          return <Redirect to={{ pathname: '/login' }} />\n        }\n        return (\n          <StackLayout>\n            <Component {...props} />\n          </StackLayout>\n        )\n      }}\n    />\n  )\n}\n\nexport default PrivateRoute\n","import React, { ErrorInfo, ReactNode } from 'react'\n\ntype Props = {\n  children: ReactNode\n}\ntype State = {\n  hasError: boolean\n}\nclass ErrorBoundary extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // @TODO: You can also log the error to an error reporting service\n    console.error('ErrorBoundry: ' + error + errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong.</h1>\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","// library imports\nimport React from 'react'\nimport { HashRouter as Router, Switch } from 'react-router-dom'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { initDB } from 'react-indexed-db'\nimport { LoaderProvider, Puff } from '@agney/react-loading'\nimport { Rekognition } from '@aws-sdk/client-rekognition'\nimport { CognitoIdentityClient } from '@aws-sdk/client-cognito-identity'\nimport { fromCognitoIdentityPool } from '@aws-sdk/credential-provider-cognito-identity'\nimport { ToastContainer } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\n\nimport theme from 'theme'\nimport routes from 'routes'\nimport { dbConfig } from 'dbConfig'\nimport PublicRoute from 'routes/Public'\nimport PublicOnlyRoute from 'routes/PublicOnly'\nimport PrivateRoute from 'routes/Private'\n\nimport ErrorBoundry from 'components/ErrorBoundry'\nconst { REACT_APP_AWS_REGION, REACT_APP_AWS_IDENTITY_POOL_ID } = process.env\n\ninitDB(dbConfig)\n\nconst cognitoIdentityClient = new CognitoIdentityClient({\n  region: REACT_APP_AWS_REGION,\n})\nexport const rekog = new Rekognition({\n  region: REACT_APP_AWS_REGION,\n  credentials: fromCognitoIdentityPool({\n    client: cognitoIdentityClient,\n    identityPoolId: REACT_APP_AWS_IDENTITY_POOL_ID!,\n  }),\n})\n\nconst StyledPuff = styled(Puff as any)`\n  height: 20%;\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`\n\nfunction App() {\n  return (\n    <ThemeProvider\n      theme={{\n        color: theme.color.dark,\n        size: theme.size.medium,\n        edgeSize: theme.edgeSize.medium,\n      }}\n    >\n      <Router>\n        <ErrorBoundry>\n          <LoaderProvider indicator={<StyledPuff />}>\n            <ToastContainer\n              position=\"top-right\"\n              autoClose={5000}\n              closeOnClick\n              pauseOnFocusLoss\n              pauseOnHover\n            />\n            <Switch>\n              {routes.map((route) => {\n                if (route.private) {\n                  return <PrivateRoute key={route.path} {...route} />\n                } else if (route.publicOnly) {\n                  return <PublicOnlyRoute key={route.path} {...route} />\n                } else {\n                  return <PublicRoute key={route.path} {...route} />\n                }\n              })}\n            </Switch>\n          </LoaderProvider>\n        </ErrorBoundry>\n      </Router>\n    </ThemeProvider>\n  )\n}\n\nexport default App\n","export const dbConfig = {\n  name: 'CoolDB',\n  version: 1,\n  objectStoresMeta: [\n    {\n      store: 'punch-outs',\n      storeConfig: { keyPath: 'id', autoIncrement: true },\n      storeSchema: [\n        { name: 'studentId', keypath: 'studentId', options: { unique: false } },\n        { name: 'dateTime', keypath: 'dateString', options: { unique: false } },\n      ],\n    },\n    {\n      store: 'punch-ins',\n      storeConfig: { keyPath: 'id', autoIncrement: true },\n      storeSchema: [\n        { name: 'studentId', keypath: 'studentId', options: { unique: false } },\n        { name: 'dateTime', keypath: 'dateString', options: { unique: false } },\n      ],\n    },\n    {\n      store: 'students',\n      storeConfig: { keyPath: 'id', autoIncrement: true },\n      storeSchema: [\n        { name: 'image', keypath: 'image', options: { unique: false } },\n        { name: 'name', keypath: 'name', options: { unique: false } },\n        {\n          name: 'admissionNo',\n          keypath: 'admissionNo',\n          options: { unique: true },\n        },\n        {\n          name: 'fatherName',\n          keypath: 'fatherName',\n          options: { unique: false },\n        },\n        { name: 'mobileNo', keypath: 'mobileNo', options: { unique: false } },\n        { name: 'gender', keypath: 'gender', options: { unique: false } },\n        {\n          name: 'identificationDoc',\n          keypath: 'identificationDoc',\n          options: { unique: false },\n        },\n        {\n          name: 'identificationDocNo',\n          keypath: 'identificationDocNo',\n          options: { unique: false },\n        },\n        {\n          name: 'address',\n          keypath: 'address',\n          options: { unique: false },\n        },\n        {\n          name: 'territory',\n          keypath: 'territory',\n          options: { unique: false },\n        },\n        {\n          name: 'router',\n          keypath: 'router',\n          options: { unique: false },\n        },\n        {\n          name: 'lockerNo',\n          keypath: 'lockerNo',\n          options: { unique: false },\n        },\n        {\n          name: 'reservedSeat',\n          keypath: 'reservedSeat',\n          options: { unique: false },\n        },\n        {\n          name: 'dateOfJoining',\n          keypath: 'dateOfJoining',\n          options: { unique: false },\n        },\n        {\n          name: 'validUpto',\n          keypath: 'validUpto',\n          options: { unique: false },\n        },\n        {\n          name: 'timeSlotIn',\n          keypath: 'timeSlotIn',\n          options: { unique: false },\n        },\n        {\n          name: 'timeSlotOut',\n          keypath: 'timeSlotOut',\n          options: { unique: false },\n        },\n        {\n          name: 'feePaid',\n          keypath: 'feePaid',\n          options: { unique: false },\n        },\n      ],\n    },\n  ],\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              // eslint-disable-next-line no-console\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // eslint-disable-next-line no-console\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      // eslint-disable-next-line no-console\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      )\n    })\n}\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          // eslint-disable-next-line no-console\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import { createGlobalStyle } from 'styled-components'\n\nexport const Normalize = createGlobalStyle`\nbody {\n  margin: 0;\n  font-family: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',\n    'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #fff;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\ninput {\n  font-family: inherit;\n}\nvideo {\n  border-radius: 4px;\n}\n`\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { Normalize } from 'NormalizeStyles'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Normalize />\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}