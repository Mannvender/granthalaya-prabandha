{"version":3,"sources":["theme.ts","components/Box/index.tsx","components/Button/index.tsx","components/Webcam/index.tsx","pages/home/index.tsx","components/Heading/index.tsx","components/LoaderContainer/index.tsx","utils/base64-to-uint8array.ts","hooks/useSearchFaces.tsx","pages/login/index.tsx","hooks/useIndexFace.tsx","hooks/useImagePreviewUrl.tsx","components/StudentForm/index.tsx","pages/register/index.tsx","hooks/useDeleteFaces.tsx","pages/list/index.tsx","routes/index.tsx","pages/edit/index.tsx","utils/auth-singleton.ts","components/Navbar/index.tsx","layouts/Stack.tsx","routes/Public.tsx","routes/PublicOnly.tsx","routes/Private.tsx","components/ErrorBoundry/index.tsx","App.tsx","dbConfig.ts","serviceWorker.ts","NormalizeStyles.ts","index.tsx"],"names":["theme","color","light","primary","dark","secondary","error","size","medium","hair","xsmall","small","large","xlarge","xxlarge","edgeSize","none","StyledDiv","styled","div","$direction","$textAlign","$height","bgColor","$justifyContent","css","$alignItems","$padding","horizontal","vertical","top","left","right","bottom","$margin","Box","children","rest","StyledButton","button","backgroundColor","hasShadow","shadowColor","Button","type","props","Webcam","onCapture","webcamRef","useRef","handleCaptureClick","useCallback","imageSrc","current","getScreenshot","audio","ref","height","width","screenshotFormat","minScreenshotHeight","minScreenshotWidth","videoConstraints","facingMode","onUserMediaError","e","console","onClick","Home","useState","setImage","base64Image","log","StyledHeading","h1","Heading","StyledLoaderContainer","section","convertDataURIToBinary","dataURI","base64Index","indexOf","length","base64","substring","raw","window","atob","rawLength","array","Uint8Array","ArrayBuffer","i","charCodeAt","useSearchFaces","isSuccess","isFetching","faceMatches","status","setStatus","useEffect","prevState","payload","CollectionId","process","Image","Bytes","MaxFaces","rekog","searchFacesByImage","then","res","FaceMatches","catch","err","Code","Login","studentInfo","setStudentInfo","useLoading","loading","containerProps","indicatorEl","getByID","useIndexedDB","faceMatch","Similarity","indexedDbId","Face","ExternalImageId","studentFromDB","image","LoaderContainer","JSON","stringify","useIndexFace","userId","faceId","indexFaces","FaceRecords","FaceId","useImagePreviewUrl","blob","imagePreviewUrl","setPreview","reader","FileReader","onloadend","previewUrl","result","readAsDataURL","StyledForm","form","StyledPreview","img","StyledError","attrs","role","LABELS","StudentForm","onSubmit","defaultValues","showWebcam","setWebcamVisible","useForm","mode","register","handleSubmit","setValue","watch","errors","formState","imageFile","setImageFile","imageValue","data","htmlFor","p","style","accept","id","onChange","target","files","src","alt","admissionNo","aria-relevant","aria-required","required","name","mobileNo","minLength","gender","fontWeight","value","identificationDoc","identificationDocNo","dateOfJoining","validUpto","timeSlotIn","timeSlotOut","feePaid","StyledP","Register","history","useHistory","add","update","setUserId","student","setStudent","parseInt","push","a","dbRes","toString","scrollTo","behavior","alert","useDeleteFaces","faceIds","FaceIds","deleteFaces","StyledImage","StyledTable","table","StyledEditIcon","RiEditBoxFill","StyledDeleteIcon","RiDeleteBin7Fill","StyledAddIcon","RiAddBoxFill","ImageCell","base64URL","path","exact","component","Homepage","public","private","publicOnly","layout","getAll","deleteRecord","students","setStudents","setAdmissionNo","deleteConfirm","setDeleteConfirm","selectedStudent","useMemo","find","fetchStudents","studentsFromDB","databaseId","useEffectOnce","ActionsCell","data-href","handleEdit","handleDelete","columns","React","Header","accessor","Cell","useTable","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","onCloseModal","display","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","getRowProps","cells","cell","getCellProps","open","Boolean","onClose","center","aria-labelledby","styles","root","modal","borderRadius","showCloseIcon","useParams","getByIndex","updatedStudent","setUpdatedStudent","isFaceDataCleared","auth","getAuthToken","token","StyledHeader","header","StyledLink","Link","Navbar","to","StackLayout","minHeight","PublicRoute","Component","Stack","PublicOnlyRoute","PrivateRoute","pathname","ErrorBoundary","state","hasError","errorInfo","this","REACT_APP_AWS_REGION","REACT_APP_AWS_IDENTITY_POOL_ID","initDB","version","objectStoresMeta","store","storeConfig","keyPath","autoIncrement","storeSchema","keypath","options","unique","cognitoIdentityClient","CognitoIdentityClient","region","Rekognition","credentials","fromCognitoIdentityPool","client","identityPoolId","StyledPuff","Puff","App","ErrorBoundry","indicator","routes","route","Private","key","PublicOnly","Public","location","hostname","match","Normalize","createGlobalStyle","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.9855a385.chunk.js","sourcesContent":["const theme = {\n  color: {\n    light: { primary: '#fff' },\n    dark: {\n      primary: '#1a1a2e',\n      secondary: '#16213e',\n      'accent-1': '#0f3460',\n      'accent-2': '#e94560',\n      'accent-3': '#8c2a3a',\n      error: '#cc0000',\n    },\n  },\n  size: {\n    // by default size choosen by user is medium\n    medium: {\n      hair: '1px',\n      xsmall: '8px',\n      small: '16px',\n      medium: '32px',\n      large: '64px',\n      xlarge: '128px',\n      xxlarge: '280px',\n    },\n  },\n  edgeSize: {\n    medium: {\n      none: '0',\n      xsmall: '4px',\n      small: '8px',\n      medium: '16px',\n      large: '24px',\n    },\n  },\n}\n\nexport default theme\n","import React, { HTMLAttributes, ReactNode } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { MarginPaddingKeys } from 'types/margin-padding'\n\ninterface StyledProps extends HTMLAttributes<HTMLDivElement> {\n  $height?: string\n  bgColor?: string\n  $justifyContent?: string\n  $alignItems?: string\n  $textAlign?: string\n  $padding?: string | { [key in MarginPaddingKeys]?: string }\n  $margin?: string | { [key in MarginPaddingKeys]?: string }\n  $direction?: 'row' | 'column'\n}\ninterface Props extends StyledProps {\n  children?: ReactNode\n}\nconst StyledDiv = styled.div<{\n  $height: string\n  bgColor: string\n  $justifyContent: string\n  $alignItems: string\n  $padding?: string | { [key in MarginPaddingKeys]?: string }\n  $margin?: string | { [key in MarginPaddingKeys]?: string }\n  $direction?: 'row' | 'column'\n  $textAlign: string\n}>`\n  display: flex;\n  flex-direction: ${({ $direction }) => $direction};\n  text-align: ${({ $textAlign }) => $textAlign};\n  height: ${({ theme, $height }) => theme.size[$height] || $height};\n  background-color: ${({ theme, bgColor }) => theme.color[bgColor] || bgColor};\n  ${({ $justifyContent }) =>\n    $justifyContent &&\n    css`\n      justify-content: ${$justifyContent};\n    `}\n  ${({ $alignItems }) =>\n    $alignItems &&\n    css`\n      align-items: ${$alignItems};\n    `}\n  ${({ $padding, theme }) => {\n    if (!$padding) return\n    if (typeof $padding === 'string')\n      return css`\n        padding: ${theme.edgeSize[$padding] || $padding};\n      `\n    else if ($padding.horizontal || $padding.vertical) {\n      const { horizontal, vertical } = $padding\n      return css`\n        padding: ${(theme.edgeSize[vertical || 'none'] || vertical) +\n        ' ' +\n        (theme.edgeSize[horizontal || 'none'] || horizontal)};\n      `\n    } else if (\n      $padding.top ||\n      $padding.left ||\n      $padding.right ||\n      $padding.bottom\n    ) {\n      const { top, right, bottom, left } = $padding\n      return css`\n        padding: ${(theme.edgeSize[top || 'none'] || top) +\n        ' ' +\n        (theme.edgeSize[right || 'none'] || right) +\n        ' ' +\n        (theme.edgeSize[bottom || 'none'] || bottom) +\n        ' ' +\n        (theme.edgeSize[left || 'none'] || left)};\n      `\n    }\n  }}\n  ${({ $margin, theme }) => {\n    if (!$margin) return\n    if (typeof $margin === 'string')\n      return css`\n        margin: ${theme.edgeSize[$margin] || $margin};\n      `\n    else if ($margin.horizontal || $margin.vertical) {\n      const { horizontal, vertical } = $margin\n      return css`\n        margin: ${(theme.edgeSize[vertical || 'none'] || vertical) +\n        ' ' +\n        (theme.edgeSize[horizontal || 'none'] || horizontal)};\n      `\n    } else if ($margin.top || $margin.left || $margin.right || $margin.bottom) {\n      const { top, right, bottom, left } = $margin\n      return css`\n        margin: ${(theme.edgeSize[top || 'none'] || top) +\n        ' ' +\n        (theme.edgeSize[right || 'none'] || right) +\n        ' ' +\n        (theme.edgeSize[bottom || 'none'] || bottom) +\n        ' ' +\n        (theme.edgeSize[left || 'none'] || left)};\n      `\n    }\n  }}\n`\n\nconst Box = ({\n  $alignItems = '',\n  bgColor = '',\n  children,\n  $justifyContent = '',\n  $textAlign = 'left',\n  $height = '',\n  $direction = 'column',\n  ...rest\n}: Props) => {\n  return (\n    <StyledDiv\n      $height={$height}\n      bgColor={bgColor}\n      $alignItems={$alignItems}\n      $justifyContent={$justifyContent}\n      $direction={$direction}\n      $textAlign={$textAlign}\n      {...rest}\n    >\n      {children}\n    </StyledDiv>\n  )\n}\n\nexport default Box\n","import React, { HTMLAttributes, ReactNode, ComponentType } from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { MarginPaddingKeys } from 'types/margin-padding'\n\n// @fixme: prop \"type\" should be allowed by HTMLButtonElement\ninterface StyledProps extends HTMLAttributes<HTMLButtonElement> {\n  /**\n   * Should show shadow\n   */\n  hasShadow?: boolean\n  /**\n   * What text color to use? This will override the default color\n   */\n  color?: string\n  /**\n   * What background color to use? This will override the default background color\n   */\n  backgroundColor?: string\n  /**\n   * What shadow color to use? This will override the default shadow color\n   */\n  shadowColor?: string\n  /**\n   * How large should the button be?\n   */\n  size?: 'medium' | 'largish' | 'large'\n  /**\n   * HTML attribute \"type\"\n   */\n  type?: 'submit' | 'button'\n  /**\n   * What margin to use ? This will add margin\n   */\n  $margin?: string | { [key in MarginPaddingKeys]?: string }\n  /**\n   * What html element to use as container\n   */\n  as?: string | ComponentType<any>\n}\nexport interface ButtonProps extends StyledProps {\n  /**\n   * Button contents\n   */\n  children: ReactNode\n}\n\nconst StyledButton = styled.button<StyledProps>`\n  font-family: inherit;\n  outline: none;\n  padding: 3px 20px 3px 20px;\n  border: 0;\n  border-radius: 14px;\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 24px;\n  transition: transform translate 150ms;\n  color: ${({ theme, color }) => theme.color[color!] || color};\n  background-color: ${({ theme, backgroundColor }) =>\n    theme.color[backgroundColor!] || backgroundColor};\n  cursor: pointer;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n\n  &:active {\n    box-shadow: 0 0;\n    transform: translateY(5px);\n  }\n\n  ${({ size }) => {\n    return (\n      size === 'large' &&\n      css`\n        padding: 6px 32px 6px 32px;\n        border-radius: 22.5px;\n        line-height: 28px;\n        font-size: 20px;\n      `\n    )\n  }}\n\n  ${({ size }) => {\n    return (\n      size === 'largish' &&\n      css`\n        font-size: 16px;\n        line-height: 24px;\n        border-radius: 18px;\n        padding: 4px 24px 4px 24px;\n      `\n    )\n  }}\n\n  ${({ hasShadow, shadowColor, theme }) => {\n    return (\n      hasShadow &&\n      css`\n        box-shadow: 0 6px ${theme.color[shadowColor!] || shadowColor};\n      `\n    )\n  }}\n  ${({ $margin, theme }) => {\n    if (!$margin) return\n    if (typeof $margin === 'string')\n      return css`\n        margin: ${theme.edgeSize[$margin] || $margin};\n      `\n    else if ($margin.horizontal || $margin.vertical) {\n      const { horizontal, vertical } = $margin\n      return css`\n        margin: ${(theme.edgeSize[vertical || 'none'] || vertical) +\n        ' ' +\n        (theme.edgeSize[horizontal || 'none'] || horizontal)};\n      `\n    } else if ($margin.top || $margin.left || $margin.right || $margin.bottom) {\n      const { top, right, bottom, left } = $margin\n      return css`\n        margin: ${(theme.edgeSize[top || 'none'] || top) +\n        ' ' +\n        (theme.edgeSize[right || 'none'] || right) +\n        ' ' +\n        (theme.edgeSize[bottom || 'none'] || bottom) +\n        ' ' +\n        (theme.edgeSize[left || 'none'] || left)};\n      `\n    }\n  }}\n`\n\n/**\n * Primary UI component for user interaction\n */\nconst Button: React.FC<ButtonProps> = ({\n  size = 'medium',\n  backgroundColor = 'accent-2',\n  shadowColor = 'accent-3',\n  color = '#fff',\n  hasShadow = true,\n  children,\n  type = 'button',\n  ...props\n}: ButtonProps) => {\n  return (\n    <StyledButton\n      color={color}\n      backgroundColor={backgroundColor}\n      shadowColor={shadowColor}\n      type={type}\n      size={size}\n      hasShadow={hasShadow}\n      {...props}\n    >\n      {children}\n    </StyledButton>\n  )\n}\n\nexport default Button\n","import React, { useRef, useCallback } from 'react'\nimport RCWebcam from 'react-webcam'\n\nimport Button from 'components/Button'\nimport Box from 'components/Box'\n\ninterface Props {\n  onCapture?: (file: string) => void\n}\nconst Webcam = ({ onCapture }: Props) => {\n  const webcamRef = useRef<RCWebcam>(null!)\n\n  const handleCaptureClick = useCallback(() => {\n    const imageSrc = webcamRef.current?.getScreenshot()\n    if (onCapture) onCapture(imageSrc || '')\n  }, [webcamRef, onCapture])\n\n  const handleMediaStreamError = (e: string | DOMException) => console.error(e)\n\n  return (\n    <Box $alignItems=\"center\">\n      <RCWebcam\n        audio={false}\n        ref={webcamRef}\n        height={240}\n        width={360}\n        screenshotFormat=\"image/jpeg\"\n        minScreenshotHeight={720}\n        minScreenshotWidth={1280}\n        videoConstraints={{ facingMode: 'user' }}\n        onUserMediaError={handleMediaStreamError}\n      />\n      <Button\n        onClick={handleCaptureClick}\n        backgroundColor=\"#fff\"\n        color=\"accent-3\"\n        $margin={{ top: 'medium' }}\n      >\n        Capture\n      </Button>\n    </Box>\n  )\n}\n\nexport default Webcam\n","import React, { useState } from 'react'\n\nimport Box from 'components/Box'\nimport Webcam from 'components/Webcam'\n\nconst Home = () => {\n  const [, setImage] = useState('')\n  const handleCapture = (base64Image: string) => {\n    // eslint-disable-next-line no-console\n    console.log(base64Image)\n    setImage(base64Image)\n  }\n\n  return (\n    <Box $alignItems=\"center\" $padding=\"medium\">\n      <Webcam onCapture={handleCapture} />\n    </Box>\n  )\n}\n\nexport default Home\n","import React, { HTMLAttributes, ReactNode } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst StyledHeading = styled.h1<{ color?: string }>`\r\n  color: ${({ theme, color }) => color || theme.color['accent-2']};\r\n  margin-top: 0;\r\n`\r\ninterface HeadingProps extends HTMLAttributes<HTMLHeadingElement> {\r\n  color?: string\r\n  children: ReactNode\r\n  // @fixme: allow as prop to styled components\r\n  // as: string\r\n}\r\nconst Heading = ({ children, ...props }: HeadingProps) => {\r\n  return <StyledHeading {...props}>{children}</StyledHeading>\r\n}\r\n\r\nexport default Heading\r\n","import styled from 'styled-components'\n\nconst StyledLoaderContainer = styled.section`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1;\n`\nexport default StyledLoaderContainer\n","const BASE64_MARKER = ';base64,'\r\n\r\nfunction convertDataURIToBinary(dataURI: string) {\r\n  const base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length\r\n  const base64 = dataURI.substring(base64Index)\r\n  const raw = window.atob(base64)\r\n  const rawLength = raw.length\r\n  const array = new Uint8Array(new ArrayBuffer(rawLength))\r\n\r\n  for (let i = 0; i < rawLength; i++) {\r\n    array[i] = raw.charCodeAt(i)\r\n  }\r\n  return array\r\n}\r\n\r\nexport default convertDataURIToBinary\r\n","import { useState, useEffect } from 'react'\nimport { rekog } from 'App'\n\nimport convertDataURIToBinary from 'utils/base64-to-uint8array'\nimport { FaceMatch } from '@aws-sdk/client-rekognition'\nconst { REACT_APP_AWS_REKOGNITION_COLLECTION_ID: CollectionId } = process.env\n\ninterface Props {\n  base64Image: string\n}\nconst useSearchFaces = ({ base64Image }: Props) => {\n  const [status, setStatus] = useState<{\n    faceMatches: FaceMatch[]\n    isSuccess: boolean\n    isFetching: boolean\n    error: string\n  }>({ isSuccess: false, isFetching: false, error: '', faceMatches: [] })\n  useEffect(() => {\n    if (base64Image && !status.isFetching && !status.isSuccess) {\n      setStatus((prevState) => ({ ...prevState, isFetching: true }))\n      const payload = {\n        CollectionId,\n        Image: {\n          Bytes: convertDataURIToBinary(base64Image),\n        },\n        MaxFaces: 1,\n      }\n      rekog\n        .searchFacesByImage(payload)\n        .then((res) => {\n          setStatus((prevState) => ({\n            ...prevState,\n            faceMatches: res?.FaceMatches || [],\n            isSuccess: true,\n          }))\n        })\n        .catch((err) => {\n          console.error(err)\n          // If collection does not exists then create new\n          if (err?.Code)\n            setStatus((prevState) => ({ ...prevState, error: err.Code }))\n        })\n    }\n    // eslint-disable-next-line\n  }, [base64Image])\n  return status\n}\n\nexport default useSearchFaces\n","import React, { useState, useEffect } from 'react'\r\nimport { useLoading } from '@agney/react-loading'\r\nimport { useIndexedDB } from 'react-indexed-db'\r\n\r\nimport Box from 'components/Box'\r\nimport Webcam from 'components/Webcam'\r\nimport Heading from 'components/Heading'\r\nimport LoaderContainer from 'components/LoaderContainer'\r\nimport useSearchFaces from 'hooks/useSearchFaces'\r\n\r\nconst Login = () => {\r\n  const [base64Image, setImage] = useState('')\r\n  const [studentInfo, setStudentInfo] = useState({})\r\n  const { faceMatches, isFetching, isSuccess, error } = useSearchFaces({\r\n    base64Image,\r\n  })\r\n  const { containerProps, indicatorEl } = useLoading({\r\n    loading: isFetching && !isSuccess,\r\n  })\r\n  const { getByID } = useIndexedDB('students')\r\n  // eslint-disable-next-line no-console\r\n  console.log(\r\n    faceMatches,\r\n    isFetching,\r\n    isSuccess,\r\n    error,\r\n    '------isFetching, isSuccess, error-----',\r\n  )\r\n\r\n  useEffect(() => {\r\n    const faceMatch = faceMatches[0]\r\n    if (faceMatch) {\r\n      if (faceMatch.Similarity && faceMatch.Similarity > 80) {\r\n        const indexedDbId = faceMatch.Face?.ExternalImageId\r\n        if (indexedDbId)\r\n          getByID(indexedDbId)\r\n            .then((studentFromDB) => {\r\n              delete studentFromDB.image\r\n              setStudentInfo(studentFromDB)\r\n            })\r\n            .catch(console.error)\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [faceMatches])\r\n\r\n  const handleCapture = (base64: string) => setImage(base64)\r\n\r\n  return (\r\n    <Box $padding=\"medium\">\r\n      {indicatorEl && (\r\n        <LoaderContainer {...containerProps}>{indicatorEl}</LoaderContainer>\r\n      )}\r\n      <Heading>Login</Heading>\r\n      <Webcam onCapture={handleCapture} />\r\n      <Box $margin={{ top: 'large' }}>\r\n        {JSON.stringify(studentInfo, null, 2)}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import { useState, useEffect } from 'react'\nimport { rekog } from 'App'\n\nimport convertDataURIToBinary from 'utils/base64-to-uint8array'\nconst { REACT_APP_AWS_REKOGNITION_COLLECTION_ID: CollectionId } = process.env\n\ninterface Props {\n  base64Image: string\n  userId?: string\n}\nconst useIndexFace = ({ base64Image, userId }: Props) => {\n  const [status, setStatus] = useState<{\n    isSuccess: boolean\n    isFetching: boolean\n    error: string\n    faceId: string\n  }>({ isSuccess: false, isFetching: false, error: '', faceId: '' })\n  useEffect(() => {\n    if (base64Image && userId) {\n      setStatus((prevState) => ({ ...prevState, isFetching: true }))\n      const payload = {\n        CollectionId,\n        ExternalImageId: userId,\n        Image: { Bytes: convertDataURIToBinary(base64Image) },\n        MaxFaces: 1,\n      }\n      rekog\n        .indexFaces(payload)\n        .then((res) => {\n          // eslint-disable-next-line no-console\n          console.log(res)\n          let faceId = ''\n          if (res.FaceRecords?.length) {\n            faceId = res.FaceRecords[0]?.Face?.FaceId || ''\n          }\n          setStatus((prevState) => ({ ...prevState, isSuccess: true, faceId }))\n        })\n        .catch((err) => {\n          console.error(err)\n          // If collection does not exists then create new\n          if (err?.Code)\n            setStatus((prevState) => ({ ...prevState, error: err.Code }))\n        })\n    }\n  }, [base64Image, userId])\n  return status\n}\n\nexport default useIndexFace\n","import { useState, useEffect } from 'react'\n\ninterface Props {\n  blob?: Blob\n}\nconst useImagePreviewUrl = ({ blob }: Props) => {\n  const [imagePreviewUrl, setPreview] = useState<any>('')\n  useEffect(() => {\n    if (blob) {\n      const reader = new FileReader()\n      reader.onloadend = () => {\n        const previewUrl = reader.result || ''\n        setPreview(previewUrl)\n      }\n      reader.readAsDataURL(blob)\n    }\n  }, [blob])\n\n  return imagePreviewUrl\n}\n\nexport default useImagePreviewUrl\n","import React, { useState, ChangeEvent, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { useForm } from 'react-hook-form'\n\nimport Button from 'components/Button'\nimport Webcam from 'components/Webcam'\nimport Box from 'components/Box'\nimport { Student } from 'types/student'\nimport useImagePreviewUrl from 'hooks/useImagePreviewUrl'\n\nconst StyledForm = styled.form`\n  font-weight: 600;\n  margin: ${({ theme }) => theme.edgeSize.medium};\n  label,\n  input {\n    line-height: 1.5;\n    border-radius: ${({ theme }) => theme.edgeSize.xsmall};\n  }\n  label {\n    font-size: 18px;\n    margin-bottom: ${({ theme }) => theme.edgeSize.small};\n    min-width: 220px;\n    font-weight: 700;\n  }\n  input {\n    width: 100%;\n    font-size: 24px;\n    font-weight: 300;\n    margin-bottom: ${({ theme }) => theme.edgeSize.medium};\n  }\n`\nconst StyledPreview = styled.img`\n  height: ${({ theme }) => theme.size.xlarge};\n  border-radius: ${({ theme }) => theme.edgeSize.xsmall};\n`\nconst StyledError = styled.div.attrs(() => ({\n  role: 'alert',\n  'aria-relevant': 'all',\n}))`\n  font-size: 18px;\n  line-height: 1.5;\n  margin-top: 0;\n  color: ${({ theme }) => theme.color.error};\n`\nconst LABELS = {\n  image: 'Photo',\n  admissionNo: 'Admission No.',\n  name: 'Name',\n  fatherName: \"Father's Name\",\n  mobileNo: 'Mobile Number',\n  gender: 'Gender',\n  identificationDoc: 'Identification Submitted',\n  identificationDocNo: 'Idenfication Id',\n  address: 'Address',\n  territory: 'Territory',\n  router: 'Router',\n  lockerNo: 'Locker Number',\n  reservedSeat: 'Reserved Seat',\n  dateOfJoining: 'Date of joining',\n  validUpto: 'Valid Upto',\n  timeSlotIn: 'Time Slot In',\n  timeSlotOut: 'Time Slot Out',\n  feePaid: 'Fee Paid',\n}\ninterface Props {\n  onSubmit: (data: Student) => void\n  defaultValues?: Student | {}\n}\nconst StudentForm = ({ onSubmit, defaultValues = {} }: Props) => {\n  const [showWebcam, setWebcamVisible] = useState(true)\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    watch,\n    formState: { errors },\n  } = useForm<Student>({ mode: 'onTouched', defaultValues })\n  const [imageFile, setImageFile] = useState<Blob>()\n\n  const base64Image = useImagePreviewUrl({\n    blob: imageFile,\n  })\n\n  useEffect(() => {\n    if (base64Image) setValue('image', base64Image)\n  }, [base64Image, setValue])\n\n  const handleCapture = (base64Image: string) => {\n    setValue('image', base64Image)\n  }\n  const handleImageChange = (e: ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files?.length) setImageFile(e.target.files[0])\n  }\n  const imageValue = watch('image')\n\n  return (\n    <StyledForm onSubmit={handleSubmit((data) => onSubmit(data))}>\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"image\">{LABELS.image}*</label>\n        {errors.image && <StyledError>{LABELS.image} is required</StyledError>}\n      </Box>\n      <Box $margin={{ bottom: 'large' }} $direction=\"row\">\n        <Button\n          color=\"gray\"\n          backgroundColor=\"#fff\"\n          shadowColor=\"gray\"\n          onClick={() => setWebcamVisible((p) => !p)}\n        >\n          {showWebcam ? 'Use file picker' : 'Use webcam'}\n        </Button>\n      </Box>\n      <hr />\n      <Box\n        $direction=\"row\"\n        $height=\"xxlarge\"\n        $justifyContent=\"center\"\n        $margin={{ bottom: 'medium' }}\n      >\n        {showWebcam ? (\n          <div style={{ width: '100%' }}>\n            <Webcam onCapture={handleCapture} />\n          </div>\n        ) : (\n          <input\n            type=\"file\"\n            accept=\"image/*\"\n            id=\"image\"\n            onChange={handleImageChange}\n          />\n        )}\n        <StyledPreview\n          src={imageValue || 'https://i.ibb.co/SyLM04b/skeleton.png'}\n          alt=\"preview\"\n        />\n      </Box>\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"admissionNo\">{LABELS.admissionNo}*</label>\n        {errors.admissionNo && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.admissionNo} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"text\"\n        id=\"admissionNo\"\n        aria-required\n        {...register('admissionNo', { required: 'true' })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"name\">{LABELS.name}*</label>\n        {errors.name && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.name} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"text\"\n        id=\"name\"\n        aria-required\n        {...register('name', { required: true })}\n      />\n      <Box>\n        <label htmlFor=\"fatherName\">{LABELS.fatherName}</label>\n      </Box>\n      <input type=\"text\" id=\"fatherName\" {...register('fatherName')} />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"mobileNo\">{LABELS.mobileNo}*</label>\n        {errors.mobileNo && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.mobileNo} is invalid\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"number\"\n        id=\"mobileNo\"\n        {...register('mobileNo', { required: true, minLength: 10 })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"\">{LABELS.gender}*</label>\n        {errors.gender && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.gender} is required\n          </StyledError>\n        )}\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"gender_male\" style={{ fontWeight: 300 }}>\n          Male\n        </label>\n        <input\n          type=\"radio\"\n          id=\"gender_male\"\n          {...register('gender', { required: true })}\n          value=\"Male\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"gender_female\" style={{ fontWeight: 300 }}>\n          Female\n        </label>\n        <input\n          type=\"radio\"\n          id=\"gender_female\"\n          {...register('gender', { required: true })}\n          value=\"Female\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"gender_other\" style={{ fontWeight: 300 }}>\n          Other\n        </label>\n        <input\n          type=\"radio\"\n          id=\"gender_other\"\n          {...register('gender', { required: true })}\n          value=\"Other\"\n        />\n      </Box>\n      <hr />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"\">{LABELS.identificationDoc}*</label>\n        {errors.identificationDoc && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.identificationDoc} is required\n          </StyledError>\n        )}\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"id_doc_aadhar\" style={{ fontWeight: 300 }}>\n          Aadhar Card\n        </label>\n        <input\n          type=\"radio\"\n          id=\"id_doc_aadhar\"\n          {...register('identificationDoc', { required: true })}\n          value=\"Aadhar\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"id_doc_dl\" style={{ fontWeight: 300 }}>\n          Driving License\n        </label>\n        <input\n          type=\"radio\"\n          id=\"id_doc_dl\"\n          {...register('identificationDoc', { required: true })}\n          value=\"Driving License\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"id_doc_passport\" style={{ fontWeight: 300 }}>\n          Passport\n        </label>\n        <input\n          type=\"radio\"\n          id=\"id_doc_passport\"\n          {...register('identificationDoc', { required: true })}\n          value=\"Passport\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"id_doc_other\" style={{ fontWeight: 300 }}>\n          Other\n        </label>\n        <input\n          type=\"radio\"\n          id=\"id_doc_other\"\n          {...register('identificationDoc', { required: true })}\n          value=\"Other\"\n        />\n      </Box>\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"identificationDocNo\">\n          {LABELS.identificationDocNo}*\n        </label>\n        {errors.identificationDocNo && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.identificationDocNo} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"text\"\n        id=\"identificationDocNo\"\n        {...register('identificationDocNo', { required: true })}\n      />\n      <label htmlFor=\"address\">{LABELS.address}</label>\n      <input type=\"text\" id=\"address\" {...register('address')} />\n      <label htmlFor=\"\">{LABELS.territory}</label>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"territory_urban\" style={{ fontWeight: 300 }}>\n          Urban\n        </label>\n        <input\n          type=\"radio\"\n          id=\"territory_urban\"\n          {...register('territory')}\n          value=\"Urban\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"territory_rural\" style={{ fontWeight: 300 }}>\n          Rural\n        </label>\n        <input\n          type=\"radio\"\n          id=\"territory_rural\"\n          {...register('territory')}\n          value=\"Rural\"\n        />\n      </Box>\n      <label htmlFor=\"router\">{LABELS.router}</label>\n      <input type=\"text\" id=\"router\" {...register('router')} />\n      <label htmlFor=\"lockerNo\">{LABELS.lockerNo}</label>\n      <input type=\"text\" id=\"lockerNo\" {...register('lockerNo')} />\n      <label htmlFor=\"reservedSeat\">{LABELS.reservedSeat}</label>\n      <input type=\"text\" id=\"reservedSeat\" {...register('reservedSeat')} />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"dateOfJoining\">{LABELS.dateOfJoining}*</label>\n        {errors.dateOfJoining && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.dateOfJoining} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"date\"\n        id=\"dateOfJoining\"\n        {...register('dateOfJoining', { required: true })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"validUpto\">{LABELS.validUpto}*</label>\n        {errors.validUpto && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.validUpto} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"date\"\n        id=\"validUpto\"\n        {...register('validUpto', { required: true })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"timeSlotIn\">{LABELS.timeSlotIn}*</label>\n        {errors.timeSlotIn && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.timeSlotIn} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"time\"\n        id=\"timeSlotIn\"\n        {...register('timeSlotIn', { required: true })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"timeSlotOut\">{LABELS.timeSlotOut}*</label>\n        {errors.timeSlotOut && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.timeSlotOut} is required\n          </StyledError>\n        )}\n      </Box>\n      <input\n        type=\"time\"\n        id=\"timeSlotOut\"\n        {...register('timeSlotOut', { required: true })}\n      />\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <label htmlFor=\"\">{LABELS.feePaid}*</label>\n        {errors.feePaid && (\n          <StyledError role=\"alert\" aria-relevant=\"all\">\n            {LABELS.feePaid} is required\n          </StyledError>\n        )}\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"fee_paid_yes\" style={{ fontWeight: 300 }}>\n          Yes\n        </label>\n        <input\n          type=\"radio\"\n          id=\"fee_paid_yes\"\n          {...register('feePaid', { required: true })}\n          value=\"true\"\n        />\n      </Box>\n      <Box $direction=\"row\" $textAlign=\"right\">\n        <label htmlFor=\"fee_paid_no\" style={{ fontWeight: 300 }}>\n          No\n        </label>\n        <input\n          type=\"radio\"\n          id=\"fee_paid_no\"\n          {...register('feePaid', { required: true })}\n          value=\"false\"\n        />\n      </Box>\n      <Box\n        $direction=\"row\"\n        $justifyContent=\"center\"\n        $padding={{ bottom: 'large' }}\n      >\n        <Button type=\"submit\" size=\"large\">\n          Submit\n        </Button>\n      </Box>\n    </StyledForm>\n  )\n}\n\nexport default StudentForm\n","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useIndexedDB } from 'react-indexed-db'\r\nimport { useLoading } from '@agney/react-loading'\r\n\r\nimport Heading from 'components/Heading'\r\nimport Box from 'components/Box'\r\nimport LoaderContainer from 'components/LoaderContainer'\r\nimport useIndexFace from 'hooks/useIndexFace'\r\nimport { Student } from 'types/student'\r\nimport Form from 'components/StudentForm'\r\n\r\nconst StyledP = styled.p`\r\n  margin-top: 0;\r\n`\r\n\r\n// @todo:Test it\r\nconst Register = () => {\r\n  const history = useHistory()\r\n  const { add, update } = useIndexedDB('students')\r\n  const [userId, setUserId] = useState<string>('')\r\n  const [student, setStudent] = useState<Student>()\r\n  const { isFetching, isSuccess, error, faceId } = useIndexFace({\r\n    base64Image: student?.image,\r\n    userId,\r\n  })\r\n  const { containerProps, indicatorEl } = useLoading({\r\n    loading: isFetching && !isSuccess,\r\n  })\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      update({ ...student, id: parseInt(userId), faceId }).catch(console.error)\r\n      history.push('/list')\r\n    }\r\n  }, [isSuccess, history, faceId, userId, update, student])\r\n  const onSubmit = async (data: Student) => {\r\n    try {\r\n      if (data.image) {\r\n        const dbRes = await add(data)\r\n        // eslint-disable-next-line no-console\r\n        console.log(dbRes)\r\n        setUserId(dbRes.toString())\r\n        setStudent(data)\r\n      } else {\r\n        window.scrollTo({\r\n          top: 0,\r\n          left: 0,\r\n          behavior: 'smooth',\r\n        })\r\n        alert('Image is required for authentication')\r\n      }\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  }\r\n  // eslint-disable-next-line no-console\r\n  console.log(\r\n    isFetching,\r\n    isSuccess,\r\n    error,\r\n    '----isFetching, isSuccess, error----',\r\n  )\r\n\r\n  return (\r\n    <Box $padding=\"medium\">\r\n      {indicatorEl && (\r\n        <LoaderContainer {...containerProps}>{indicatorEl}</LoaderContainer>\r\n      )}\r\n      <Heading>Register</Heading>\r\n      <StyledP>Fields marked with an asterisk (*) are required.</StyledP>\r\n      <Form onSubmit={onSubmit} />\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","import { useState, useEffect } from 'react'\nimport { rekog } from 'App'\n\nconst { REACT_APP_AWS_REKOGNITION_COLLECTION_ID: CollectionId } = process.env\n\ninterface Props {\n  faceIds: string[]\n}\nconst useDeleteFaces = ({ faceIds }: Props) => {\n  const [status, setStatus] = useState<{\n    isSuccess: boolean\n    isFetching: boolean\n    error: string\n  }>({ isSuccess: false, isFetching: false, error: '' })\n  useEffect(() => {\n    if (faceIds[0] && !status.isFetching && !status.isSuccess) {\n      setStatus((prevState) => ({ ...prevState, isFetching: true }))\n      const payload = {\n        CollectionId,\n        FaceIds: faceIds,\n      }\n      rekog\n        .deleteFaces(payload)\n        .then((res) => {\n          // eslint-disable-next-line no-console\n          console.log(res)\n          setStatus((prevState) => ({ ...prevState, isSuccess: true }))\n        })\n        .catch((err) => {\n          console.error(err)\n          // If collection does not exists then create new\n          if (err?.Code)\n            setStatus((prevState) => ({ ...prevState, error: err.Code }))\n        })\n    }\n    // eslint-disable-next-line\n  }, [faceIds])\n  return status\n}\n\nexport default useDeleteFaces\n","import React, { useState, useEffect, useMemo } from 'react'\nimport { useIndexedDB } from 'react-indexed-db'\nimport { useLoading } from '@agney/react-loading'\nimport { useEffectOnce } from 'react-use'\nimport { useTable, Column, CellProps } from 'react-table'\nimport { RiEditBoxFill, RiDeleteBin7Fill, RiAddBoxFill } from 'react-icons/ri'\nimport { useHistory } from 'react-router-dom'\nimport { Modal } from 'react-responsive-modal'\nimport 'react-responsive-modal/styles.css'\n\nimport Box from 'components/Box'\nimport Heading from 'components/Heading'\nimport { Student } from 'types/student'\nimport styled from 'styled-components'\nimport Button from 'components/Button'\nimport useDeleteFaces from 'hooks/useDeleteFaces'\nimport LoaderContainer from 'components/LoaderContainer'\n\nconst StyledImage = styled.img`\n  height: ${({ theme }) => theme.size.large};\n  border-radius: 4px;\n`\nconst StyledTable = styled.table`\n  border: solid 1px ${({ theme }) => theme.color['accent-1']};\n  border-radius: 4px;\n`\nconst StyledEditIcon = styled(RiEditBoxFill)`\n  height: 24px;\n  width: 24px;\n  color: ${({ theme }) => theme.color['accent-3']};\n  cursor: pointer;\n`\nconst StyledDeleteIcon = styled(RiDeleteBin7Fill)`\n  height: 24px;\n  width: 24px;\n  color: ${({ theme }) => theme.color['accent-3']};\n  cursor: pointer;\n`\nconst StyledAddIcon = styled(RiAddBoxFill)`\n  height: 24px;\n  width: 24px;\n`\n\nconst ImageCell = ({ value: base64URL }: CellProps<any>) => (\n  <StyledImage src={base64URL} />\n)\n\nconst List = () => {\n  const history = useHistory()\n  const { getAll, deleteRecord } = useIndexedDB('students')\n  const [students, setStudents] = useState<Student[]>([])\n  const [admissionNo, setAdmissionNo] = useState('')\n  const [deleteConfirm, setDeleteConfirm] = useState(false)\n\n  const selectedStudent = useMemo(() => {\n    return students.find((student) => student.admissionNo === admissionNo)\n  }, [admissionNo, students])\n  const { isFetching, isSuccess, error } = useDeleteFaces({\n    faceIds: [(deleteConfirm && selectedStudent?.faceId) || ''],\n  })\n  // eslint-disable-next-line no-console\n  console.log(\n    isFetching,\n    isSuccess,\n    error,\n    '-----isFetching, isSuccess, error----',\n  )\n  const fetchStudents = () => {\n    getAll().then((studentsFromDB) => {\n      setStudents(studentsFromDB)\n    })\n  }\n  useEffect(() => {\n    if (isSuccess) {\n      const databaseId = students.find(\n        (student) => student.admissionNo === admissionNo,\n      )?.id\n      if (databaseId) {\n        deleteRecord(databaseId).catch(console.error)\n        setAdmissionNo('')\n        setDeleteConfirm(false)\n        fetchStudents()\n      }\n    }\n    // eslint-disable-next-line\n  }, [isSuccess])\n\n  useEffectOnce(fetchStudents)\n\n  const { containerProps, indicatorEl } = useLoading({\n    loading: isFetching && !isSuccess,\n  })\n\n  const handleEdit = (admissionNo: string) => {\n    // eslint-disable-next-line no-console\n    console.log(admissionNo)\n    history.push('/edit/' + admissionNo)\n  }\n  const handleDelete = (admissionNo: string) => {\n    // eslint-disable-next-line no-console\n    console.log(admissionNo, 'this admission no need to be deleted-------')\n    setAdmissionNo(admissionNo)\n  }\n  const ActionsCell = ({ value }: CellProps<any>) => (\n    <Box $direction=\"row\" $justifyContent=\"space-around\">\n      <StyledEditIcon\n        role=\"link\"\n        data-href=\"/edit\"\n        onClick={() => handleEdit(value)}\n      />\n      <StyledDeleteIcon onClick={() => handleDelete(value)} />\n    </Box>\n  )\n  const columns: Column<Student>[] = React.useMemo(\n    () => [\n      {\n        Header: 'Image',\n        accessor: 'image', // accessor is the \"key\" in the data\n        Cell: ImageCell,\n      },\n      {\n        Header: 'Name',\n        accessor: 'name',\n      },\n      {\n        Header: 'Mobile No',\n        accessor: 'mobileNo',\n      },\n      {\n        Header: 'Router',\n        accessor: 'router',\n      },\n      {\n        Header: 'Locker',\n        accessor: 'lockerNo',\n      },\n      {\n        Header: 'Seat',\n        accessor: 'reservedSeat',\n      },\n      {\n        Header: 'Fee Paid',\n        accessor: 'feePaid',\n      },\n      {\n        Header: 'Action',\n        accessor: 'admissionNo',\n        Cell: ActionsCell,\n      },\n    ],\n    // eslint-disable-next-line\n    [],\n  )\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n  } = useTable({ columns, data: students })\n\n  const onCloseModal = () => setAdmissionNo('')\n  const handleAddButtonClick = () => history.push('/register')\n\n  return (\n    <Box $padding=\"medium\">\n      {indicatorEl && (\n        <LoaderContainer {...containerProps}>{indicatorEl}</LoaderContainer>\n      )}\n      <Box $direction=\"row\" $justifyContent=\"space-between\">\n        <Heading>List</Heading>\n        <div>\n          <Button\n            hasShadow={false}\n            backgroundColor=\"#fff\"\n            color=\"accent-3\"\n            style={{ display: 'block' }}\n            onClick={handleAddButtonClick}\n            role=\"link\"\n            data-href=\"/register\"\n          >\n            <Box $direction=\"row\">\n              <StyledAddIcon />\n              <span>Add student</span>\n            </Box>\n          </Button>\n        </div>\n      </Box>\n      <StyledTable {...getTableProps()}>\n        <thead>\n          {headerGroups.map((headerGroup) => (\n            // eslint-disable-next-line react/jsx-key\n            <tr {...headerGroup.getHeaderGroupProps()}>\n              {headerGroup.headers.map((column) => (\n                // eslint-disable-next-line react/jsx-key\n                <th {...column.getHeaderProps()}>{column.render('Header')}</th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n          {rows.map((row) => {\n            prepareRow(row)\n            return (\n              // eslint-disable-next-line react/jsx-key\n              <tr {...row.getRowProps()}>\n                {row.cells.map((cell) => {\n                  // eslint-disable-next-line react/jsx-key\n                  return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\n                })}\n              </tr>\n            )\n          })}\n        </tbody>\n        <Modal\n          open={Boolean(admissionNo)}\n          onClose={onCloseModal}\n          center\n          aria-labelledby=\"modal-title\"\n          styles={{\n            root: { color: 'gray' },\n            modal: { borderRadius: '4px' },\n          }}\n          showCloseIcon={false}\n        >\n          <Heading id=\"modal-title\">Are you sure ?</Heading>\n          <Box $direction=\"row\" $justifyContent=\"space-around\">\n            <Button hasShadow={false} onClick={() => setDeleteConfirm(true)}>\n              Yes\n            </Button>\n            <Button hasShadow={false} onClick={onCloseModal}>\n              No\n            </Button>\n          </Box>\n        </Modal>\n      </StyledTable>\n    </Box>\n  )\n}\n\nexport default List\n","import Homepage from 'pages/home'\nimport Login from 'pages/login'\nimport Register from 'pages/register'\nimport List from 'pages/list'\nimport Edit from 'pages/edit'\n\nexport default [\n  {\n    path: '/',\n    exact: true,\n    component: Homepage,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n  {\n    path: '/login',\n    exact: true,\n    component: Login,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n  {\n    path: '/register',\n    exact: true,\n    component: Register,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n  {\n    path: '/list',\n    exact: true,\n    component: List,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n  {\n    path: '/edit/:admissionNo',\n    exact: true,\n    component: Edit,\n    public: true,\n    private: false,\n    publicOnly: false,\n    layout: 'StackLayout',\n  },\n]\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useIndexedDB } from 'react-indexed-db'\nimport { useEffectOnce } from 'react-use'\nimport { useHistory } from 'react-router-dom'\nimport { useLoading } from '@agney/react-loading'\n\nimport { Student } from 'types/student'\nimport Form from 'components/StudentForm'\nimport Box from 'components/Box'\nimport useDeleteFaces from 'hooks/useDeleteFaces'\nimport useIndexFace from 'hooks/useIndexFace'\nimport LoaderContainer from 'components/LoaderContainer'\n\nconst Edit = () => {\n  const history = useHistory()\n  const { admissionNo } = useParams<{ admissionNo: 'string' }>()\n  const { getByIndex, update } = useIndexedDB('students')\n  const [student, setStudent] = useState<Student>()\n  const [updatedStudent, setUpdatedStudent] = useState<Student>()\n  const { isFetching, isSuccess: isFaceDataCleared } = useDeleteFaces({\n    faceIds: [(updatedStudent && student?.faceId) || ''],\n  })\n  const { isSuccess, faceId } = useIndexFace({\n    base64Image: (isFaceDataCleared && updatedStudent?.image) || '',\n    userId: updatedStudent?.id?.toString(),\n  })\n  useEffect(() => {\n    if (isSuccess) {\n      update({\n        ...updatedStudent,\n        id: updatedStudent?.id,\n        faceId,\n      }).catch(console.error)\n      history.push('/list')\n    }\n  }, [isSuccess, history, faceId, update, updatedStudent])\n  useEffectOnce(() => {\n    getByIndex('admissionNo', admissionNo).then(setStudent).catch(console.error)\n  })\n  const { containerProps, indicatorEl } = useLoading({\n    loading: isFetching && !isSuccess,\n  })\n  const onSubmit = (data: Student) => {\n    // eslint-disable-next-line no-console\n    console.log(data)\n    update(data)\n      .then(() => {\n        // if image has been changed by user, update aws face data\n        if (data.image !== student?.image) setUpdatedStudent(data)\n      })\n      .catch(console.error)\n  }\n\n  return (\n    <Box>\n      {indicatorEl && (\n        <LoaderContainer {...containerProps}>{indicatorEl}</LoaderContainer>\n      )}\n      {student && <Form defaultValues={student} onSubmit={onSubmit} />}\n    </Box>\n  )\n}\n\nexport default Edit\n","interface AuthObject {\n  token?: string | null\n}\nconst auth: AuthObject = {}\n\nfunction loadAuthToken() {\n  const authToken: string | null = localStorage.getItem('current_auth_token')\n  auth.token = authToken\n  if (Boolean(authToken) === false) setTimeout(loadAuthToken, 200)\n}\n\nfunction setAuthToken(authToken: string) {\n  localStorage.setItem('current_auth_token', authToken)\n  auth.token = authToken\n}\n\nfunction getAuthToken() {\n  return auth.token\n}\n\nfunction resetAuthToken() {\n  localStorage.clear()\n  auth.token = null\n}\n\nexport { loadAuthToken, setAuthToken, getAuthToken, resetAuthToken }\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nconst StyledHeader = styled.header`\n  display: flex;\n  align-items: center;\n  height: ${({ theme }) => theme.size.medium};\n  background-color: #383863;\n  padding: ${({ theme }) => theme.edgeSize.small};\n  box-shadow: rgba(0, 0, 0, 0.3) 0px 2px 3px 0px;\n`\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  color: #fff;\n  font-weight: 600;\n  margin: 0 8px;\n  &:active {\n    color: ${({ theme }) => theme.color['accent-2']};\n  }\n`\nconst Navbar = () => {\n  return (\n    <StyledHeader>\n      <StyledLink to=\"/register\">Register</StyledLink>\n      <StyledLink to=\"/login\">Login</StyledLink>\n      <StyledLink to=\"/list\">List</StyledLink>\n    </StyledHeader>\n  )\n}\n\nexport default Navbar\n","// lib imports\nimport React from 'react'\n\n// shared imports\nimport Box from 'components/Box'\nimport Navbar from 'components/Navbar'\n\ninterface Props {\n  children?: any\n  title?: string\n}\nconst StackLayout = ({ children }: Props) => {\n  return (\n    <Box $height=\"100%\" bgColor=\"primary\" style={{ minHeight: '100vh' }}>\n      <Navbar />\n      {children}\n    </Box>\n  )\n}\n\nexport default StackLayout\n","import React from 'react'\nimport { Route } from 'react-router-dom'\n\nimport { getAuthToken } from 'utils/auth-singleton'\nimport { StackLayout } from 'layouts'\n\ninterface Props {\n  component?: any\n}\nconst PublicRoute = ({ component: Component, ...rest }: Props) => {\n  const authToken = getAuthToken()\n  if (authToken) {\n    // Call getProfile async, so that we can display profile in Header\n  }\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return (\n          <StackLayout>\n            <Component {...props} />\n          </StackLayout>\n        )\n      }}\n    />\n  )\n}\n\nexport default PublicRoute\n","import React from 'react'\nimport { Route } from 'react-router-dom'\n\nimport { getAuthToken } from 'utils/auth-singleton'\nimport StackLayout from 'layouts/Stack'\n\ninterface Props {\n  component?: any\n}\nconst PublicOnlyRoute = ({ component: Component, ...rest }: Props) => {\n  const authToken = getAuthToken()\n  if (authToken) {\n    //TODO: if authToken is there then redirect according to business logic\n  }\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return (\n          <StackLayout>\n            <Component {...props} />\n          </StackLayout>\n        )\n      }}\n    />\n  )\n}\n\nexport default PublicOnlyRoute\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nimport { getAuthToken } from 'utils/auth-singleton'\nimport StackLayout from 'layouts/Stack'\n\ninterface Props {\n  component?: any\n}\nconst PrivateRoute = ({ component: Component, ...rest }: Props) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        const authToken = getAuthToken()\n        if (!authToken) {\n          return <Redirect to={{ pathname: '/login' }} />\n        }\n        return (\n          <StackLayout>\n            <Component {...props} />\n          </StackLayout>\n        )\n      }}\n    />\n  )\n}\n\nexport default PrivateRoute\n","import React, { ErrorInfo, ReactNode } from 'react'\n\ntype Props = {\n  children: ReactNode\n}\ntype State = {\n  hasError: boolean\n}\nclass ErrorBoundary extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // @TODO: You can also log the error to an error reporting service\n    console.error('ErrorBoundry: ' + error + errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <h1>Something went wrong.</h1>\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","// library imports\nimport React from 'react'\nimport { HashRouter as Router, Switch } from 'react-router-dom'\nimport styled, { ThemeProvider } from 'styled-components'\nimport { initDB } from 'react-indexed-db'\nimport { LoaderProvider, Puff } from '@agney/react-loading'\nimport { Rekognition } from '@aws-sdk/client-rekognition'\nimport { CognitoIdentityClient } from '@aws-sdk/client-cognito-identity'\nimport { fromCognitoIdentityPool } from '@aws-sdk/credential-provider-cognito-identity'\n\nimport theme from 'theme'\nimport routes from 'routes'\nimport { dbConfig } from 'dbConfig'\nimport PublicRoute from 'routes/Public'\nimport PublicOnlyRoute from 'routes/PublicOnly'\nimport PrivateRoute from 'routes/Private'\n\nimport ErrorBoundry from 'components/ErrorBoundry'\nconst { REACT_APP_AWS_REGION, REACT_APP_AWS_IDENTITY_POOL_ID } = process.env\n\ninitDB(dbConfig)\n\nconst cognitoIdentityClient = new CognitoIdentityClient({\n  region: REACT_APP_AWS_REGION,\n})\nexport const rekog = new Rekognition({\n  region: REACT_APP_AWS_REGION,\n  credentials: fromCognitoIdentityPool({\n    client: cognitoIdentityClient,\n    identityPoolId: REACT_APP_AWS_IDENTITY_POOL_ID!,\n  }),\n})\n\nconst StyledPuff = styled(Puff as any)`\n  height: 20%;\n  position: relative;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`\n\nfunction App() {\n  return (\n    <ThemeProvider\n      theme={{\n        color: theme.color.dark,\n        size: theme.size.medium,\n        edgeSize: theme.edgeSize.medium,\n      }}\n    >\n      <Router>\n        <ErrorBoundry>\n          <LoaderProvider indicator={<StyledPuff />}>\n            <Switch>\n              {routes.map((route) => {\n                if (route.private) {\n                  return <PrivateRoute key={route.path} {...route} />\n                } else if (route.publicOnly) {\n                  return <PublicOnlyRoute key={route.path} {...route} />\n                } else {\n                  return <PublicRoute key={route.path} {...route} />\n                }\n              })}\n            </Switch>\n          </LoaderProvider>\n        </ErrorBoundry>\n      </Router>\n    </ThemeProvider>\n  )\n}\n\nexport default App\n","export const dbConfig = {\n  name: 'CoolDB',\n  version: 1,\n  objectStoresMeta: [\n    {\n      store: 'students',\n      storeConfig: { keyPath: 'id', autoIncrement: true },\n      storeSchema: [\n        { name: 'image', keypath: 'image', options: { unique: false } },\n        { name: 'name', keypath: 'name', options: { unique: false } },\n        {\n          name: 'admissionNo',\n          keypath: 'admissionNo',\n          options: { unique: true },\n        },\n        {\n          name: 'fatherName',\n          keypath: 'fatherName',\n          options: { unique: false },\n        },\n        { name: 'mobileNo', keypath: 'mobileNo', options: { unique: false } },\n        { name: 'gender', keypath: 'gender', options: { unique: false } },\n        {\n          name: 'identificationDoc',\n          keypath: 'identificationDoc',\n          options: { unique: false },\n        },\n        {\n          name: 'identificationDocNo',\n          keypath: 'identificationDocNo',\n          options: { unique: false },\n        },\n        {\n          name: 'address',\n          keypath: 'address',\n          options: { unique: false },\n        },\n        {\n          name: 'territory',\n          keypath: 'territory',\n          options: { unique: false },\n        },\n        {\n          name: 'router',\n          keypath: 'router',\n          options: { unique: false },\n        },\n        {\n          name: 'lockerNo',\n          keypath: 'lockerNo',\n          options: { unique: false },\n        },\n        {\n          name: 'reservedSeat',\n          keypath: 'reservedSeat',\n          options: { unique: false },\n        },\n        {\n          name: 'dateOfJoining',\n          keypath: 'dateOfJoining',\n          options: { unique: false },\n        },\n        {\n          name: 'validUpto',\n          keypath: 'validUpto',\n          options: { unique: false },\n        },\n        {\n          name: 'timeSlotIn',\n          keypath: 'timeSlotIn',\n          options: { unique: false },\n        },\n        {\n          name: 'timeSlotOut',\n          keypath: 'timeSlotOut',\n          options: { unique: false },\n        },\n        {\n          name: 'feePaid',\n          keypath: 'feePaid',\n          options: { unique: false },\n        },\n      ],\n    },\n  ],\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              // eslint-disable-next-line no-console\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              // eslint-disable-next-line no-console\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      // eslint-disable-next-line no-console\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      )\n    })\n}\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          // eslint-disable-next-line no-console\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister()\n      })\n      .catch((error) => {\n        console.error(error.message)\n      })\n  }\n}\n","import { createGlobalStyle } from 'styled-components'\n\nexport const Normalize = createGlobalStyle`\nbody {\n  margin: 0;\n  font-family: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',\n    'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #fff;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\ninput {\n  font-family: inherit;\n}\nvideo {\n  border-radius: 4px;\n}\n`\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { Normalize } from 'NormalizeStyles'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Normalize />\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}